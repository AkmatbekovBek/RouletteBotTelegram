2025-11-16 22:09:02,087 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:09:03,418 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:09:03,627 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:09:03,627 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:09:03,627 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:09:03,806 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:09:03,809 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:09:03,810 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:09:03,827 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:09:03,837 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'RouletteHandler' from 'handlers.roulette' (C:\RouletteBotTelegram\handlers\roulette\__init__.py)
2025-11-16 22:09:03,839 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,840 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:09:03,840 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,846 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:09:03,847 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:09:03,848 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,851 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:09:03,851 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:09:03,851 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,854 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,857 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,859 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,861 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,861 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:09:03,861 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,865 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,865 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ roulette: module 'handlers.roulette' has no attribute 'register_roulette_handlers'
2025-11-16 22:09:03,870 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,875 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,877 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:09:03,877 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:09:03,877 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:09:03,877 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,880 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:09:03,880 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,881 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:09:03,881 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,881 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 15
2025-11-16 22:09:03,881 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:09:03,887 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:09:03,887 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:09:03,887 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:09:03,888 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:09:03,888 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:09:03,888 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:09:03,888 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:09:03,888 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:09:03,888 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:09:03,888 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 6656 —Å–µ–∫—É–Ω–¥ (1.8 —á–∞—Å–æ–≤)
2025-11-16 22:09:03,888 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:09:21,341 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:09:21,341 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:09:21,341 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:09:21,341 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:09:21,341 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:09:21,341 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:09:21,342 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:09:21,342 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:09:21,342 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:09:21,342 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:09:21,342 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:09:21,351 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:24:44,819 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:24:45,162 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:24:45,378 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:24:45,378 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:24:45,378 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:24:45,455 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:24:45,456 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:24:45,456 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:24:45,475 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:24:45,499 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'Bet' from 'database.models' (C:\RouletteBotTelegram\database\models.py)
2025-11-16 22:24:45,501 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,502 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:24:45,502 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,505 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:24:45,506 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:24:45,506 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,511 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:24:45,511 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:24:45,511 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,513 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,514 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,515 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,516 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,517 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:24:45,517 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,519 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,521 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ roulette: cannot import name 'Bet' from 'database.models' (C:\RouletteBotTelegram\database\models.py)
2025-11-16 22:24:45,524 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,526 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,527 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:24:45,527 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:24:45,527 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:24:45,527 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,528 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:24:45,528 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,530 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:24:45,530 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,530 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 15
2025-11-16 22:24:45,530 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:24:45,535 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:24:45,535 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:24:45,536 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:24:45,536 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 5714 —Å–µ–∫—É–Ω–¥ (1.6 —á–∞—Å–æ–≤)
2025-11-16 22:24:45,536 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:24:51,889 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:24:51,890 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:24:51,890 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:24:51,891 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:24:51,891 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:24:51,891 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:24:51,896 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:28:29,590 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:28:29,917 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:28:30,123 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:28:30,123 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:28:30,123 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:28:30,305 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:28:30,307 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:28:30,307 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:28:30,336 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:28:30,380 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,380 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,384 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,384 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:28:30,385 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,389 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:28:30,390 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:28:30,390 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,391 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:28:30,392 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:28:30,392 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,392 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,394 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,395 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,397 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,398 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:28:30,398 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,400 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,401 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,404 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,408 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,410 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:28:30,410 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:28:30,410 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:28:30,410 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,411 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:28:30,411 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,413 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:28:30,413 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,413 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:28:30,413 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:28:30,417 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:28:30,418 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:28:30,418 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:28:30,418 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 5490 —Å–µ–∫—É–Ω–¥ (1.5 —á–∞—Å–æ–≤)
2025-11-16 22:28:30,418 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:28:34,197 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=NameError("name 'chat_id' is not defined")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\admin\mute_ban.py", line 45, in _is_user_admin
    if chat_id:
       ^^^^^^^
NameError: name 'chat_id' is not defined
2025-11-16 22:28:40,773 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:28:40,773 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:28:40,773 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:28:40,773 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:28:40,773 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:28:40,773 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:28:40,776 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:28:40,776 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:28:40,776 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:28:40,776 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:28:40,776 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:28:40,779 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:31:46,122 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:31:46,451 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:31:46,660 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:31:46,660 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:31:46,660 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:31:46,734 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:31:46,735 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:31:46,735 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:31:46,781 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,781 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,786 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,786 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:31:46,786 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,789 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:31:46,790 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:31:46,790 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,792 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:31:46,792 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:31:46,792 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,793 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,795 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,795 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,797 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,798 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:31:46,798 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,800 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,801 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,805 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,807 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,808 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:31:46,808 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:31:46,808 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:31:46,809 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,809 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:31:46,809 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,811 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:31:46,811 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,811 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:31:46,811 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:31:46,814 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:31:46,814 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:31:46,816 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:31:46,816 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:31:46,816 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 5293 —Å–µ–∫—É–Ω–¥ (1.5 —á–∞—Å–æ–≤)
2025-11-16 22:31:46,816 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:31:51,129 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=TypeError('MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given
2025-11-16 22:31:55,120 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:31:55,120 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:31:55,120 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:31:55,120 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:31:55,120 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:31:55,120 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:31:55,122 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:31:55,122 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:31:55,122 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:31:55,122 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:31:55,123 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:31:55,125 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:40:16,027 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:40:16,366 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:40:16,587 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:40:16,587 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:40:16,587 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:40:16,665 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:40:16,666 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:40:16,666 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:40:16,686 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:40:16,703 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,704 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,707 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,708 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:40:16,708 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,712 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:40:16,712 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:40:16,712 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,714 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:40:16,714 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:40:16,714 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,715 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,717 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,718 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,719 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,719 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:40:16,720 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,722 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,723 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,725 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,727 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,729 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:40:16,729 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:40:16,729 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:40:16,729 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,730 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:40:16,730 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,731 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:40:16,731 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,731 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:40:16,731 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:40:16,734 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:40:16,734 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:40:16,734 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:40:16,735 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:40:16,735 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:40:16,735 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:40:16,735 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:40:16,735 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:40:16,735 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:40:16,735 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 4783 —Å–µ–∫—É–Ω–¥ (1.3 —á–∞—Å–æ–≤)
2025-11-16 22:40:16,735 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:40:21,160 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=ProgrammingError('(psycopg2.errors.UndefinedColumn) –û–®–ò–ë–ö–ê:  —Å—Ç–æ–ª–±–µ—Ü telegram_users.robberies_today –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç\nLINE 1: ...legram_users.is_admin AS telegram_users_is_admin, telegram_u...\n                                                             ^\n')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: –û–®–ò–ë–ö–ê:  —Å—Ç–æ–ª–±–µ—Ü telegram_users.robberies_today –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
LINE 1: ...legram_users.is_admin AS telegram_users_is_admin, telegram_u...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\RouletteBotTelegram\handlers\roulette\validators.py", line 49, in db_session
    yield db
  File "C:\RouletteBotTelegram\handlers\roulette\handlers.py", line 148, in show_balance
    user = UserRepository.get_user_by_telegram_id(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\database\crud.py", line 62, in get_user_by_telegram_id
    return db.query(models.TelegramUser).filter(models.TelegramUser.telegram_id == telegram_id).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) –û–®–ò–ë–ö–ê:  —Å—Ç–æ–ª–±–µ—Ü telegram_users.robberies_today –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
LINE 1: ...legram_users.is_admin AS telegram_users_is_admin, telegram_u...
                                                             ^

[SQL: SELECT telegram_users.id AS telegram_users_id, telegram_users.telegram_id AS telegram_users_telegram_id, telegram_users.username AS telegram_users_username, telegram_users.first_name AS telegram_users_first_name, telegram_users.last_name AS telegram_users_last_name, telegram_users.reference_link AS telegram_users_reference_link, telegram_users.coins AS telegram_users_coins, telegram_users.win_coins AS telegram_users_win_coins, telegram_users.defeat_coins AS telegram_users_defeat_coins, telegram_users.max_win_coins AS telegram_users_max_win_coins, telegram_users.min_win_coins AS telegram_users_min_win_coins, telegram_users.max_bet AS telegram_users_max_bet, telegram_users.is_admin AS telegram_users_is_admin, telegram_users.robberies_today AS telegram_users_robberies_today, telegram_users.last_robbery_reset AS telegram_users_last_robbery_reset, telegram_users.action AS telegram_users_action, telegram_users.duration_minutes AS telegram_users_duration_minutes 
FROM telegram_users 
WHERE telegram_users.telegram_id = %(telegram_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'telegram_id_1': 7326913977, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-16 22:40:23,899 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:40:23,899 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:40:23,900 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:40:23,900 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:40:23,900 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:40:23,900 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:40:23,900 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:40:23,901 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:40:23,901 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:40:23,901 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:40:23,901 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:40:23,904 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:43:51,442 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:43:51,793 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:43:52,010 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:43:52,010 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:43:52,010 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:43:52,089 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:43:52,091 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:43:52,091 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:43:52,120 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:43:52,144 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,144 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,149 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,150 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:43:52,150 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,153 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:43:52,154 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:43:52,154 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,155 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:43:52,155 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:43:52,156 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,157 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,160 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,161 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,163 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,164 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:43:52,164 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,165 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,167 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,170 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,172 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,174 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:43:52,174 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:43:52,175 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:43:52,175 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,175 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:43:52,175 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,178 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:43:52,178 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,178 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:43:52,179 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:43:52,183 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:43:52,184 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:43:52,184 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:43:52,185 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:43:52,185 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:43:52,185 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:43:52,185 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:43:52,185 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:43:52,185 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:43:52,185 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 4568 —Å–µ–∫—É–Ω–¥ (1.3 —á–∞—Å–æ–≤)
2025-11-16 22:43:52,185 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:44:06,199 - [INFO] - handlers.roulette_logs - (roulette_logs.py).add_game_log(37) - –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ —Ä—É–ª–µ—Ç–∫–∏ –¥–ª—è —á–∞—Ç–∞ -1003110392320: 2‚ö´
2025-11-16 22:44:07,243 - [INFO] - main - (validators.py).update_users_batch(75) - ‚úÖ –ü–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:44:10,326 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:44:10,326 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:44:10,327 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:44:10,327 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:44:10,327 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:44:10,328 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:44:10,332 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:49:08,290 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:49:08,612 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:49:08,817 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:49:08,817 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:49:08,817 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:49:08,886 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:49:08,887 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:49:08,887 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:49:08,906 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:49:08,907 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:49:08,908 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:49:08,908 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:49:08,908 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:49:08,908 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:49:08,928 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,928 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,933 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,933 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:49:08,933 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,936 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:49:08,937 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:49:08,938 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,939 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:49:08,939 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:49:08,939 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,941 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,943 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,944 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,946 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,947 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:49:08,947 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,948 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,949 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,953 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,955 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,957 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:49:08,957 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:49:08,957 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:49:08,957 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,958 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:49:08,958 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,959 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:49:08,959 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,959 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:49:08,959 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:49:08,965 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:49:08,965 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:49:08,965 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:49:08,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 4251 —Å–µ–∫—É–Ω–¥ (1.2 —á–∞—Å–æ–≤)
2025-11-16 22:49:08,966 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:52:02,715 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '—Ç—ã –ø–æ—Ö–æ–¥—É —á–µ—Ç —É–¥–∞–ª–∏–ª –∏ –ø–æ –Ω–æ–≤–æ–π –¥–æ–±–∞–≤–∏–ª'
2025-11-16 22:54:09,020 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-92' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=IndexError('list index out of range')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 108, in notify
    data.update(await check_filters(handler_obj.filters, args))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\filters\filters.py", line 77, in check_filters
    f = await execute_filter(filter_, args)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\filters\filters.py", line 63, in execute_filter
    return filter_.filter(*args, **filter_.kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\thief\handlers.py", line 16, in is_rob_cmd
    return normalize_cmd(msg.text) in ["—É–∫—Ä–∞—Å—Ç—å", "–æ–≥—Ä–∞–±–∏—Ç—å", "–≤–æ—Ä—É–π"]
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\thief\handlers.py", line 12, in normalize_cmd
    return text.strip().lower().split()[0]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range
2025-11-16 22:54:13,809 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:54:13,809 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:54:13,809 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:54:13,809 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:54:13,809 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:54:13,810 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:54:13,810 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:54:13,810 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:54:13,810 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:54:13,810 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:54:13,810 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:54:13,814 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:57:21,997 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:57:22,314 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:57:22,518 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:57:22,519 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:57:22,519 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:57:22,592 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:57:22,592 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:57:22,593 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:57:22,615 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:57:22,633 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,633 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,638 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,638 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:57:22,638 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,641 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:57:22,642 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:57:22,642 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,643 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:57:22,643 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:57:22,643 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,644 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,646 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,646 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,649 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,649 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:57:22,649 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,650 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,653 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,658 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,661 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,663 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:57:22,663 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:57:22,663 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:57:22,663 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,664 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:57:22,664 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,666 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:57:22,666 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,666 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:57:22,666 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:57:22,670 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:57:22,671 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:57:22,671 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:57:22,671 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 3757 —Å–µ–∫—É–Ω–¥ (1.0 —á–∞—Å–æ–≤)
2025-11-16 22:57:22,673 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:59:03,367 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-17' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:04:08,249 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:04:08,249 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:04:08,249 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:04:08,251 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:04:08,253 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:04:09,505 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:04:09,850 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:04:10,063 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:04:10,064 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:04:10,064 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:04:10,131 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:04:10,131 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:04:10,132 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:04:10,151 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:04:10,151 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:04:10,152 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:04:10,152 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:04:10,152 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:04:10,152 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:04:10,170 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,170 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,176 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,176 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:04:10,176 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,179 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:04:10,181 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:04:10,181 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,182 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:04:10,182 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:04:10,182 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,183 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,185 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,186 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,188 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,189 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:04:10,189 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,192 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,193 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,196 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,200 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,202 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:04:10,202 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:04:10,203 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:04:10,203 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,205 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:04:10,205 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,207 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:04:10,207 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,207 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:04:10,207 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:04:10,211 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:04:10,212 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(215) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:04:10,213 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:04:10,213 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 3350 —Å–µ–∫—É–Ω–¥ (0.9 —á–∞—Å–æ–≤)
2025-11-16 23:04:10,213 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:13:11,247 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 6090751674, text: '—Å–¥–µ–ª–∞–ª'
2025-11-16 23:13:15,845 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:13:15,845 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:13:15,846 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:13:15,846 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:15,846 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:13:15,848 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:13:15,853 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:13:17,474 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:13:17,791 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:13:17,994 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:13:17,994 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:13:17,994 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:18,182 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:13:18,184 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:13:18,184 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:18,216 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:13:18,244 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,244 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,248 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,248 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:13:18,249 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,252 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:13:18,253 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:13:18,253 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,255 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:13:18,255 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:13:18,255 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,256 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,258 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,259 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,261 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,262 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:13:18,262 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,265 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,267 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,269 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,272 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:13:18,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:13:18,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:13:18,274 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,276 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:13:18,276 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,277 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:13:18,277 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,277 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:13:18,277 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:18,283 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:13:18,283 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:13:18,283 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:13:18,284 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:18,284 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:13:18,284 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(215) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:13:18,284 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:13:18,284 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:18,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:18,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2802 —Å–µ–∫—É–Ω–¥ (0.8 —á–∞—Å–æ–≤)
2025-11-16 23:13:18,284 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:13:27,292 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '–≤ –æ—Å–Ω–æ–≤–µ –∏–ª–∏ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º'
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:13:34,494 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:13:34,494 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:13:34,495 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:34,495 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:13:34,495 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:13:34,499 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:13:35,911 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:13:36,223 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:13:36,430 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:13:36,430 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:13:36,430 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:36,506 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:13:36,506 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:13:36,506 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:36,535 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:13:36,558 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,559 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,564 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,564 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:13:36,564 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,568 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:13:36,569 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:13:36,569 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,570 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:13:36,570 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:13:36,570 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,572 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,574 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,575 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,576 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,578 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:13:36,578 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,580 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,582 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,585 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,587 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,589 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:13:36,589 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:13:36,589 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:13:36,589 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,591 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:13:36,591 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,592 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:13:36,593 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,593 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:13:36,593 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:36,597 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:13:36,598 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(215) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:36,598 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:36,598 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2783 —Å–µ–∫—É–Ω–¥ (0.8 —á–∞—Å–æ–≤)
2025-11-16 23:13:36,599 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:13:40,216 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 6090751674, text: '–≤ —Ç–µ—Å—Ç–æ–≤–æ–º'
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:14:03,212 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:14:03,212 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:14:03,212 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:14:03,213 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:14:03,216 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:14:04,603 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:14:04,924 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:14:05,123 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:14:05,123 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:14:05,123 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:14:05,195 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:14:05,196 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:14:05,196 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:14:05,223 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:14:05,224 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:14:05,224 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:14:05,225 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:14:05,225 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:14:05,225 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:14:05,245 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,245 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,250 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,251 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:14:05,251 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,253 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:14:05,255 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:14:05,255 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,257 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:14:05,257 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:14:05,257 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,258 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,260 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,261 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,262 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,263 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:14:05,263 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,264 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,267 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,269 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,272 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:14:05,275 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:14:05,275 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:14:05,275 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,275 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:14:05,276 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,277 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:14:05,277 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,277 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:14:05,277 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:14:05,282 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:14:05,282 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(215) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:14:05,284 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:14:05,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:14:05,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2755 —Å–µ–∫—É–Ω–¥ (0.8 —á–∞—Å–æ–≤)
2025-11-16 23:14:05,284 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:18:05,294 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '?'
2025-11-16 23:18:41,153 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫—Ä–∞—Å–∞–≤—á–∏–∫'
2025-11-16 23:18:42,855 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Å–ª–æ–º–∞–ª'
2025-11-16 23:18:49,421 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '—è?'
2025-11-16 23:18:53,560 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '—è –Ω–µ —Ç—Ä–æ–≥–∞–ª –∞–π–¥–∏'
2025-11-16 23:18:58,596 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: 'None'
2025-11-16 23:19:17,896 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–º–æ–∂–µ—Ç –±—ã—Ç—å —è'
2025-11-16 23:19:21,510 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–ø–æ–ª–æ–º–∞–ª'
2025-11-16 23:19:31,458 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–≤–∏–¥–∞–ª'
2025-11-16 23:19:42,314 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–∞ –µ—Å–ª–∏ –≤ –ª—Å –±–æ—Ç—É –ø–∏—Å–∞—Ç—å —Ç–æ –Ω–æ—Ä–º –≤—Å–µ'
2025-11-16 23:20:01,487 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–ø–æ—Ö–æ–¥—É –≤ –∞–¥–º–∏–Ω–∫–µ'
2025-11-16 23:20:03,144 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: 'None'
2025-11-16 23:20:06,431 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '—Ç—ã –ø–æ–ª–æ–º–∞–ª —á—Ç—Ç–æ—Ç–æ'
2025-11-16 23:20:10,936 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–Ω–æ—Ä–º–∞–ª—å–Ω–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç'
2025-11-16 23:20:20,555 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '—Ç—ã —à—É—Ç–∏—à—å?'
2025-11-16 23:20:29,367 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–µ—Å–ª–∏ –ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–æ /id –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–π'
2025-11-16 23:20:33,239 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–¥–∞–∂–µ —Ç–µ–±–µ'
2025-11-16 23:20:44,071 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∞ —Ç–∞–∫, —Ä–∞–±–æ—Ç–∞–µ—Ç'
2025-11-16 23:20:53,224 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: 'vot'
2025-11-16 23:21:03,285 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ç–∞–∞–∫'
2025-11-16 23:21:12,250 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–ø–æ–≥–æ–¥–∏'
2025-11-16 23:21:26,160 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Å–ª—É—á–∞–µ–º –Ω–µ —Ç—ã —ç—Ç–æ —Å–¥–µ–ª–∞–ª –∫–æ–≥–¥–∞ –∞–¥–º–∏–Ω–∫—É –º–æ—é —á–∏–Ω–∏–ª'
2025-11-16 23:21:33,297 - [INFO] - handlers.admin.admin - (admin.py).add_admin(370) - Admin 1054684037 added new admin 7326913977
2025-11-16 23:23:13,940 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:23:13,940 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:23:13,940 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:23:13,940 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:23:13,940 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:23:13,940 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:23:13,941 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:23:13,941 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:23:13,941 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:23:13,941 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:23:13,941 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:23:13,946 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:23:15,707 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:23:16,034 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:23:16,239 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:23:16,239 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:23:16,240 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:23:16,415 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:23:16,416 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:23:16,416 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:23:16,441 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:23:16,442 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:23:16,442 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:23:16,443 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:23:16,443 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:23:16,443 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:23:16,465 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,465 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,470 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,470 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:23:16,470 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,473 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:23:16,474 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:23:16,474 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,476 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:23:16,476 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:23:16,476 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,477 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,479 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,481 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,483 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,484 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:23:16,484 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,487 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,489 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,490 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,493 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,495 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:23:16,495 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:23:16,495 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:23:16,495 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,496 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:23:16,498 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,499 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:23:16,499 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,499 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:23:16,499 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:23:16,504 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:23:16,504 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:23:16,504 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:23:16,504 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:23:16,504 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:23:16,505 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:23:16,505 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:23:16,505 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:23:16,505 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:23:16,505 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2203 —Å–µ–∫—É–Ω–¥ (0.6 —á–∞—Å–æ–≤)
2025-11-16 23:23:16,505 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:23:23,494 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=TypeError('MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given
2025-11-16 23:23:26,805 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-14' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=TypeError('MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given
2025-11-16 23:24:39,704 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:24:39,704 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:24:39,704 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:24:39,704 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:24:39,704 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:24:39,704 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:24:39,705 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:24:39,705 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:24:39,705 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:24:39,705 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:24:39,705 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:24:39,709 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:24:41,278 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:24:41,592 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:24:41,794 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:24:41,794 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:24:41,794 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:24:41,872 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:24:41,874 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:24:41,874 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:24:41,902 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:24:41,926 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,926 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,931 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,932 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:24:41,932 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,936 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:24:41,937 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:24:41,937 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,938 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:24:41,938 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:24:41,938 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,939 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,941 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,942 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,944 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,945 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:24:41,945 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,946 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,948 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,951 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,954 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,956 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:24:41,956 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:24:41,956 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:24:41,956 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,957 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:24:41,958 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,959 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:24:41,959 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,959 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:24:41,959 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:24:41,964 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:24:41,964 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:24:41,964 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:24:41,966 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:24:41,966 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:24:41,966 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:24:41,966 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:24:41,966 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:24:41,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:24:41,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2118 —Å–µ–∫—É–Ω–¥ (0.6 —á–∞—Å–æ–≤)
2025-11-16 23:24:41,966 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:24:58,640 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—è –∞–π–¥–∏ –≤–∞—â–µ –Ω–µ —Ç—Ä–æ–≥–∞–ª'
2025-11-16 23:25:11,868 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–æ–Ω –∂–µ —Ä–∞–±–æ—á–∏–π –±—ã–ª'
2025-11-16 23:25:16,803 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Å–º—ã—Å–ª –µ–≥–æ —Ç—Ä–æ–≥–∞—Ç—å'
2025-11-16 23:26:19,311 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:26:19,312 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:26:19,312 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:26:19,312 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:19,312 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:19,312 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:26:19,313 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:26:19,313 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:26:19,313 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:19,313 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:26:19,313 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:26:19,318 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:26:20,921 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:26:21,247 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:26:21,452 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:26:21,453 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:26:21,453 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:21,528 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:26:21,529 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:26:21,529 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:21,554 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:26:21,555 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:26:21,556 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:26:21,556 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:26:21,556 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:26:21,556 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:26:21,576 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,577 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,583 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,583 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:26:21,583 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,586 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:26:21,588 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:26:21,588 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,589 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:26:21,589 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:26:21,589 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,590 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,592 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,593 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,596 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,597 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:26:21,597 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,599 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,600 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,602 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,605 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,606 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:26:21,606 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:26:21,606 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:26:21,606 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,607 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:26:21,608 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,609 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:26:21,610 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,610 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:26:21,610 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:21,613 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:26:21,614 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:21,614 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:21,614 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2018 —Å–µ–∫—É–Ω–¥ (0.6 —á–∞—Å–æ–≤)
2025-11-16 23:26:21,615 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:26:30,534 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:26:30,535 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:26:30,535 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:30,535 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:26:30,537 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:26:30,540 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:26:32,010 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:26:32,324 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:26:32,528 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:26:32,529 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:26:32,529 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:32,606 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:26:32,607 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:26:32,607 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:32,633 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:26:32,634 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:26:32,634 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:26:32,635 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:26:32,635 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:26:32,635 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:26:32,654 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,654 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,659 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,660 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:26:32,660 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,664 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:26:32,664 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:26:32,665 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,666 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:26:32,666 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:26:32,666 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,667 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,669 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,670 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,672 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,672 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:26:32,673 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,674 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,676 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,678 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,680 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,682 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:26:32,682 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:26:32,682 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:26:32,682 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,684 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:26:32,684 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,685 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:26:32,685 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,686 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:26:32,686 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:32,691 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:26:32,691 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:26:32,691 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:26:32,692 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:32,692 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:26:32,692 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:26:32,692 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:26:32,692 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:32,692 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:32,692 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2007 —Å–µ–∫—É–Ω–¥ (0.6 —á–∞—Å–æ–≤)
2025-11-16 23:26:32,692 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:27:07,911 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ç–∞–∞–∞–∫'
2025-11-16 23:27:26,826 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:27:26,826 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:27:26,826 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:27:26,827 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:27:26,827 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:27:26,828 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:27:26,831 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:27:28,354 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:27:28,671 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:27:28,875 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:27:28,875 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:27:28,875 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:27:28,955 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:27:28,957 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:27:28,957 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:27:28,983 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:27:28,984 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:27:28,984 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:27:28,984 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:27:28,984 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:27:28,985 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:27:29,006 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,006 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,011 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,012 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:27:29,012 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,016 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:27:29,017 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:27:29,018 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,019 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:27:29,019 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:27:29,019 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,020 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,023 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,025 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,027 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,028 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:27:29,028 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,031 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,032 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,036 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,038 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,041 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:27:29,041 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:27:29,041 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:27:29,041 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,044 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:27:29,044 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,047 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:27:29,047 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,047 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:27:29,047 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:27:29,051 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:27:29,051 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:27:29,051 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:27:29,052 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:27:29,052 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:27:29,052 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:27:29,052 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:27:29,052 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:27:29,052 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:27:29,052 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1951 —Å–µ–∫—É–Ω–¥ (0.5 —á–∞—Å–æ–≤)
2025-11-16 23:27:29,052 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:27:50,202 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=NameError("name 'chat_id' is not defined")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\admin\mute_ban.py", line 45, in _is_user_admin
    if chat_id:
       ^^^^^^^
NameError: name 'chat_id' is not defined
2025-11-16 23:27:55,266 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—á–∞—Ç –∞–π–¥–∏ –∏ —é–∑–µ—Ä –∞–π–¥–∏ –º–æ–∂–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å, –Ω–æ –ø–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—å /admin'
2025-11-16 23:28:36,847 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:28:36,847 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:28:36,847 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:28:36,848 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:28:36,848 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:28:36,849 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:28:36,851 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:28:38,559 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:28:38,872 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:28:39,074 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:28:39,074 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:28:39,074 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:28:39,163 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:28:39,164 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:28:39,164 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:28:39,194 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:28:39,217 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,218 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,222 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,222 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:28:39,222 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,226 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:28:39,227 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:28:39,228 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,230 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:28:39,230 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:28:39,230 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,231 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,232 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,235 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,237 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,237 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:28:39,237 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,240 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,241 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,244 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,246 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,249 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:28:39,249 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:28:39,249 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:28:39,249 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,251 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:28:39,251 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,253 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:28:39,253 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,253 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:28:39,253 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:28:39,257 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:28:39,258 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:28:39,258 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:28:39,259 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:28:39,259 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:28:39,259 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:28:39,259 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:28:39,259 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:28:39,259 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:28:39,259 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1881 —Å–µ–∫—É–Ω–¥ (0.5 —á–∞—Å–æ–≤)
2025-11-16 23:28:39,259 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:29:24,735 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ç—ã —Ä—É–ª–µ—Ç–∫—É —É–∂–µ —Ä–∞–∑–±–∏–ª –≤–Ω—É—Ç—Ä–∏ –ø–∞–ø–∫–∏ roulette?'
2025-11-16 23:29:29,955 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–¥–∞'
2025-11-16 23:29:33,941 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–≤—Å–µ —Ä–æ–±–∏—Ç'
2025-11-16 23:29:45,991 - [INFO] - handlers.roulette_logs - (roulette_logs.py).add_game_log(37) - –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ —Ä—É–ª–µ—Ç–∫–∏ –¥–ª—è —á–∞—Ç–∞ -1003110392320: 9üî¥
2025-11-16 23:29:46,740 - [INFO] - main - (validators.py).update_users_batch(75) - ‚úÖ –ü–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2025-11-16 23:30:24,417 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–∫–∞–∫ —Ç–∏–ø–∞ –∑–∞–±–∞–Ω–∏—Ç—å —Å–µ–±—è'
2025-11-16 23:30:36,746 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '@AKMBV7 —è —ç—Ç–æ—Ç –∞–∫–∫ —Ä–∞–∑–∂–∞–ª–æ–≤–∞–ª'
2025-11-16 23:30:40,996 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–ø—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏'
2025-11-16 23:30:50,700 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—â–∞ –º—É—Ç –¥–∞–º'
2025-11-16 23:31:00,663 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '?'
2025-11-16 23:31:57,456 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–æ–∫'
2025-11-16 23:32:28,257 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '?'
2025-11-16 23:32:37,179 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-156' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:32:44,933 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-164' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:32:47,779 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 8325704610, text: '—É–±–µ—Ä–∏'
2025-11-16 23:33:38,916 - [INFO] - handlers.admin.admin - (admin.py).remove_admin(418) - Admin 1054684037 removed admin 7326913977
2025-11-16 23:34:35,260 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).mute_user(96) - üîá 7326913977 –∑–∞–º—É—á–µ–Ω –≤ -1003110392320 –Ω–∞ 6 –º–∏–Ω –∞–¥–º–∏–Ω–æ–º 6090751674
2025-11-16 23:34:38,358 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '?'
2025-11-16 23:35:26,336 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '—Ä–∞–∑–º—É—Ç'
2025-11-16 23:35:41,115 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—è –Ω–µ –¥–æ–±–∞–≤–∏–ª —ç—Ç–æ'
2025-11-16 23:35:45,096 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–±–∞–ª–∏–Ω'
2025-11-16 23:40:39,734 - [INFO] - handlers.admin.mute_ban - (mute_ban.py)._unmute_scheduler(189) - üîà –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–º—É—Ç 7326913977 –≤ -1003110392320
2025-11-16 23:41:02,942 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-233' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:41:09,260 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-237' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:41:16,138 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-241' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:41:22,011 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-245' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:46:47,109 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-272' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:47:13,950 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-279' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:47:16,114 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-283' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:47:25,737 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-287' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:47:53,603 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-294' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:48:02,966 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '–ª–∞–¥–Ω–æ'
2025-11-16 23:48:52,531 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:48:52,531 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:48:52,531 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:48:52,532 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:48:52,532 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:48:52,533 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:48:52,542 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:48:54,384 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:48:54,698 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:48:54,934 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:48:54,934 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:48:54,934 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:48:55,008 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:48:55,010 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:48:55,010 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:48:55,040 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:48:55,072 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,072 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,077 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,077 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:48:55,077 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,082 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:48:55,084 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:48:55,084 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,086 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:48:55,087 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:48:55,087 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,088 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,092 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,093 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,095 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,096 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:48:55,096 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,098 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,100 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,104 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,108 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,110 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:48:55,110 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:48:55,110 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:48:55,110 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,112 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:48:55,112 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,115 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:48:55,115 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,115 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:48:55,115 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:48:55,120 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:48:55,120 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:48:55,120 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:48:55,122 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:48:55,122 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:48:55,122 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(218) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:48:55,122 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:48:55,122 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:48:55,122 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:48:55,122 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 665 —Å–µ–∫—É–Ω–¥ (0.2 —á–∞—Å–æ–≤)
2025-11-16 23:48:55,122 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:49:30,534 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '!ron

!roff'
2025-11-16 23:53:21,655 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-32' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:53:26,594 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:53:26,595 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:53:26,595 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:53:26,595 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:53:26,595 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:53:26,600 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:53:30,916 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:53:31,238 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:53:31,456 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:53:31,456 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:53:31,456 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:53:31,536 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:53:31,537 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:53:31,537 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:53:31,560 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:53:31,580 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,580 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,585 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,586 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:53:31,586 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,590 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:53:31,591 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:53:31,591 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,592 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:53:31,592 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:53:31,592 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,593 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,596 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,597 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,598 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,599 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:53:31,599 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,600 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,601 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,605 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,607 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,608 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:53:31,610 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:53:31,610 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:53:31,610 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,611 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:53:31,611 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,612 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:53:31,612 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,612 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:53:31,612 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:53:31,616 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:53:31,616 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:53:31,616 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:53:31,617 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:53:31,617 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:53:31,617 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(218) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:53:31,617 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:53:31,617 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:53:31,617 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:53:31,617 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 388 —Å–µ–∫—É–Ω–¥ (0.1 —á–∞—Å–æ–≤)
2025-11-16 23:53:31,617 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:54:03,025 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:54:03,027 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:54:03,027 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:54:03,027 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:54:03,028 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:54:04,684 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:54:05,034 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:54:05,245 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:54:05,245 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:54:05,245 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:54:05,320 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:54:05,322 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:54:05,322 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:54:05,349 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:54:05,350 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:54:05,351 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:54:05,351 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:54:05,351 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:54:05,351 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:54:05,370 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,370 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,375 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,376 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:54:05,376 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,379 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:54:05,381 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:54:05,381 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,382 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:54:05,382 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:54:05,382 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,383 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,385 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,386 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,387 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,388 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:54:05,388 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,390 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,392 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,395 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,399 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,401 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:54:05,401 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:54:05,401 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:54:05,402 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,403 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:54:05,403 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,405 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:54:05,405 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,405 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:54:05,405 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:54:05,409 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:54:05,410 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:54:05,410 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:54:05,410 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:54:05,411 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:54:05,411 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(207) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:54:05,411 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:54:05,411 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:54:05,411 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:54:05,411 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 355 —Å–µ–∫—É–Ω–¥ (0.1 —á–∞—Å–æ–≤)
2025-11-16 23:54:05,411 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:56:37,235 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-24' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:57:02,848 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '–Ω–µ'
2025-11-16 23:57:24,969 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-37' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:00:00,102 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).run_cleanup(122) - ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ 2025-11-17 00:00:00
2025-11-17 00:00:00,102 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).run_cleanup(123) - üìä –£–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤: 0
2025-11-17 00:00:00,102 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).run_cleanup(124) - üìä –£–¥–∞–ª–µ–Ω–æ –∏—Å—Ç–µ–∫—à–∏—Ö –ø–æ–∫—É–ø–æ–∫: 0
2025-11-17 00:00:00,102 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 86400 —Å–µ–∫—É–Ω–¥ (24.0 —á–∞—Å–æ–≤)
2025-11-17 00:06:23,816 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 00:06:23,817 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 00:06:23,817 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:06:23,817 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 00:06:23,818 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 00:06:23,822 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 00:06:25,034 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 00:06:25,357 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 00:06:25,566 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 00:06:25,566 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 00:06:25,566 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:06:25,635 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 00:06:25,638 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 00:06:25,638 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:06:25,657 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 00:06:25,674 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,674 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,677 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,678 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 00:06:25,678 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,681 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 00:06:25,682 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 00:06:25,682 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,683 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 00:06:25,683 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 00:06:25,683 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,684 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,685 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,687 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,688 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,689 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 00:06:25,689 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,690 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,691 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,693 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,694 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,697 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 00:06:25,697 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 00:06:25,697 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 00:06:25,697 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,698 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 00:06:25,698 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,700 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 00:06:25,700 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,700 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 00:06:25,700 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:06:25,704 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 00:06:25,704 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 00:06:25,704 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 00:06:25,705 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:06:25,705 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 00:06:25,705 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 00:06:25,705 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 00:06:25,705 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:06:25,705 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:06:25,705 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 86014 —Å–µ–∫—É–Ω–¥ (23.9 —á–∞—Å–æ–≤)
2025-11-17 00:06:25,705 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 00:06:34,904 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:06:39,325 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-15' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:06:53,290 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-27' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:03,622 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—á–µ –∑–∞'
2025-11-17 00:07:06,020 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-34' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:06,543 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–¥–∏—á—å'
2025-11-17 00:07:09,487 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-41' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:24,350 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-45' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:34,937 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-49' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:41,203 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–≤ –ø—É—à–µ'
2025-11-17 00:07:45,480 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-59' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:48,965 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 00:07:48,966 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 00:07:48,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 00:07:48,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:07:48,966 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:07:48,966 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 00:07:48,967 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 00:07:48,967 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 00:07:48,967 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:07:48,967 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 00:07:48,967 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 00:07:48,971 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 00:11:10,506 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 00:11:10,830 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 00:11:11,035 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 00:11:11,035 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 00:11:11,035 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:11:11,114 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 00:11:11,117 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 00:11:11,117 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:11:11,147 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 00:11:11,170 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,170 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,175 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,176 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 00:11:11,176 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,180 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 00:11:11,181 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 00:11:11,181 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,182 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 00:11:11,182 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 00:11:11,182 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,184 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,186 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,187 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,189 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,190 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 00:11:11,190 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,192 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,195 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,198 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,201 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,203 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 00:11:11,203 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 00:11:11,203 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 00:11:11,203 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,204 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 00:11:11,204 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,206 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 00:11:11,206 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,206 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 00:11:11,206 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:11:11,211 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 00:11:11,211 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 00:11:11,211 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 00:11:11,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:11:11,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 00:11:11,212 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 00:11:11,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 00:11:11,212 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:11:11,212 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:11:11,212 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 85729 —Å–µ–∫—É–Ω–¥ (23.8 —á–∞—Å–æ–≤)
2025-11-17 00:11:11,213 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 00:11:36,155 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(315) - ‚è© –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–æ–º–∞–Ω–¥—É: –º–Ω–µ –∑–∞–≤—Ç—Ä–∞ —É–∂–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤–µ—Å—å –±–∞–ª–∞–Ω—Å
2025-11-17 00:11:43,389 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—è —Å–∫–∏–Ω—ã –ø—Ä–æ–¥–∞–ª –≤ —Ç–æ—Ä–≥–æ–≤–æ–π –ø–ª–æ—â–∞–¥–∫–µ'
2025-11-17 00:12:04,604 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–∫–ª–∞—Å—Å–Ω–æ'
2025-11-17 00:12:07,354 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).ban_user(158) - üö´ 7326913977 –∑–∞–±–∞–Ω–µ–Ω –≤ -1003110392320 –∞–¥–º–∏–Ω–æ–º 6090751674
2025-11-17 00:12:23,343 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ä–∞–±–æ—Ç–∞–µ—Ç'
2025-11-17 00:13:42,232 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: 'https://t.me/+SNT16La_jzUzY2Ri'
2025-11-17 00:13:50,824 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–Ω–µ –¥–æ–±–∞–≤–ª—è–ª, —ç—Ç–æ —Ñ–∏–≥–Ω—è'
2025-11-17 00:16:51,820 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–¥–æ —Å–∫–æ–ª—å–∫–∏ –¥—É–º–∞–µ—à—å –¥–µ–ª–∞—Ç—å'
2025-11-17 00:17:08,378 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–≤—Ä–æ–¥–µ –≤–º–µ—Å—Ç–µ —Å–æ–±–∏—Ä–∞–ª–∏—Å—å, –∞ –ø–æ –∏—Ç–æ–≥—É —Ä–∞–∑–¥–µ–ª—å–Ω–æ'
2025-11-17 00:17:18,453 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ö–æ—á—É –≥–ª—è–Ω—É—Ç—å –∫–∞–∫ —ç—Ç–æ –±—É–¥–µ—Ç'
2025-11-17 00:17:21,770 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–µ—Å–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ'
2025-11-17 00:17:32,858 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ç–∞–∫–æ–µ –æ—â—É—â–µ–Ω–∏–µ —á—Ç–æ –±—É–¥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã'
2025-11-17 00:18:03,201 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–¥–∞'
2025-11-17 00:18:54,369 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 00:18:54,369 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 00:18:54,369 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 00:18:54,369 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:18:54,369 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:18:54,369 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 00:18:54,370 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 00:18:54,370 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 00:18:54,370 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:18:54,370 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 00:18:54,370 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 00:18:54,375 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:32:00,238 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:32:00,575 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:32:00,792 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:32:00,792 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:32:00,792 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:32:01,282 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:32:01,286 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:32:01,286 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:32:01,324 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:32:01,326 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:32:01,326 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:32:01,326 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:32:01,326 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:32:01,327 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:32:01,349 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-17 23:32:01,353 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,353 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:32:01,354 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,364 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:32:01,365 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(442) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:32:01,365 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,369 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:32:01,369 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:32:01,369 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,373 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,377 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,378 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,380 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,382 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:32:01,382 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,386 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,406 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,411 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,417 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,418 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:32:01,419 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:32:01,419 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:32:01,419 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,420 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:32:01,420 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,423 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:32:01,423 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:32:01,423 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-17 23:32:01,423 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:32:01,430 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:32:01,431 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:32:01,431 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:32:01,432 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:32:01,432 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:32:01,432 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:32:01,432 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:32:01,432 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:32:01,432 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:32:01,432 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1679 —Å–µ–∫—É–Ω–¥ (0.5 —á–∞—Å–æ–≤)
2025-11-17 23:32:01,432 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:32:27,837 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-15' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=NameError("name 'THIEF_BONUS_AMOUNT' is not defined")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\donate\main_donate_handler.py", line 127, in donate_command
    donate_text = self._get_donate_message_text()
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\donate\main_donate_handler.py", line 117, in _get_donate_message_text
    text += f"üëë <b>–ë–æ–Ω—É—Å –í–æ—Ä–∞:</b> {THIEF_BONUS_AMOUNT:,} –º–æ–Ω–µ—Ç –∫–∞–∂–¥—ã–µ {PRIVILEGE_BONUS_COOLDOWN_HOURS} —á–∞—Å–∞\n"
                                    ^^^^^^^^^^^^^^^^^^
NameError: name 'THIEF_BONUS_AMOUNT' is not defined
2025-11-17 23:33:00,582 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:33:00,582 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:33:00,582 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:33:00,582 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:33:00,582 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:33:00,582 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:33:00,582 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:33:00,583 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:33:00,583 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:33:00,583 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:33:00,583 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:33:00,593 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:33:02,540 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:33:02,864 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:33:03,063 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:33:03,063 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:33:03,063 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:33:03,164 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:33:03,166 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:33:03,167 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:33:03,196 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:33:03,197 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:33:03,197 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:33:03,197 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:33:03,197 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:33:03,197 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:33:03,210 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-17 23:33:03,214 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,214 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:33:03,214 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,218 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:33:03,219 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(443) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:33:03,220 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,223 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:33:03,223 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:33:03,223 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,225 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,230 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,232 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,235 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,237 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:33:03,237 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,240 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,253 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,257 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,260 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,262 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:33:03,262 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:33:03,262 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:33:03,262 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,265 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:33:03,265 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,267 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:33:03,267 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:03,267 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-17 23:33:03,267 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:33:03,270 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:33:03,271 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:33:03,271 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:33:03,271 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:33:03,271 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:33:03,271 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:33:03,271 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:33:03,271 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:33:03,271 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:33:03,271 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1617 —Å–µ–∫—É–Ω–¥ (0.4 —á–∞—Å–æ–≤)
2025-11-17 23:33:03,271 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:33:12,045 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py).claim_daily_bonus(217) - ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å –≤—ã–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 1054684037
2025-11-17 23:33:16,517 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:33:55,284 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:33:55,285 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:33:55,285 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:33:55,285 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:33:55,285 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:33:55,285 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:33:55,286 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:33:55,286 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:33:55,286 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:33:55,286 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:33:55,286 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:33:55,292 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:33:56,633 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:33:56,959 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:33:57,165 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:33:57,166 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:33:57,166 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:33:57,259 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:33:57,263 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:33:57,263 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:33:57,294 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:33:57,296 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:33:57,296 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:33:57,296 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:33:57,296 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:33:57,296 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:33:57,323 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,323 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,331 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,332 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:33:57,332 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,335 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:33:57,336 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(443) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:33:57,336 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,338 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:33:57,338 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:33:57,338 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,340 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,342 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,344 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,346 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,347 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:33:57,347 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,349 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,352 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,355 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,360 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,361 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:33:57,361 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:33:57,361 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:33:57,361 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,363 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:33:57,363 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,366 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:33:57,366 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:33:57,366 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 23:33:57,366 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:33:57,371 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:33:57,372 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:33:57,372 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:33:57,372 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:33:57,373 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:33:57,373 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:33:57,373 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:33:57,373 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:33:57,373 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:33:57,373 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1563 —Å–µ–∫—É–Ω–¥ (0.4 —á–∞—Å–æ–≤)
2025-11-17 23:33:57,373 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:34:01,222 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:35:56,097 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:35:56,097 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:35:56,097 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:35:56,098 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:35:56,098 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:35:56,098 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:35:56,098 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:35:56,098 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:35:56,098 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:35:56,098 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:35:56,098 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:35:56,102 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:35:57,713 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:35:58,048 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:35:58,256 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:35:58,256 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:35:58,256 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:35:58,345 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:35:58,348 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:35:58,348 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:35:58,380 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:35:58,381 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:35:58,381 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:35:58,381 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:35:58,381 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:35:58,381 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:35:58,415 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,415 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,419 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,421 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:35:58,421 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,425 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:35:58,426 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(443) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:35:58,426 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,427 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:35:58,428 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:35:58,428 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,429 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,432 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,433 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,436 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,436 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:35:58,437 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,439 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,441 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,446 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,448 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,451 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:35:58,451 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:35:58,451 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:35:58,451 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,453 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:35:58,453 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,456 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:35:58,456 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:35:58,456 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 23:35:58,456 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:35:58,460 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:35:58,461 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:35:58,461 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:35:58,462 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:35:58,462 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:35:58,462 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:35:58,462 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:35:58,462 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:35:58,463 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:35:58,463 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1442 —Å–µ–∫—É–Ω–¥ (0.4 —á–∞—Å–æ–≤)
2025-11-17 23:35:58,463 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:36:01,635 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:36:10,387 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:36:10,387 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:36:10,387 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:36:10,387 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:36:10,387 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:36:10,387 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:36:10,388 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:36:10,388 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:36:10,388 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:36:10,388 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:36:10,388 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:36:10,391 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:36:11,912 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:36:12,228 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:36:12,426 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:36:12,426 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:36:12,426 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:36:12,519 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:36:12,521 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:36:12,521 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:36:12,552 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:36:12,553 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:36:12,553 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:36:12,553 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:36:12,553 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:36:12,553 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:36:12,587 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,587 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,592 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,593 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:36:12,593 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,597 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:36:12,598 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(443) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:36:12,599 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,601 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:36:12,601 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:36:12,601 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,602 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,606 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,607 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,609 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,610 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:36:12,610 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,612 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,614 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,618 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,621 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,623 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:36:12,624 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:36:12,624 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:36:12,624 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,626 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:36:12,626 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,629 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:36:12,629 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:36:12,629 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 23:36:12,629 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:36:12,634 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:36:12,635 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:36:12,635 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:36:12,635 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:36:12,636 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:36:12,636 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:36:12,636 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:36:12,636 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:36:12,636 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:36:12,636 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1427 —Å–µ–∫—É–Ω–¥ (0.4 —á–∞—Å–æ–≤)
2025-11-17 23:36:12,636 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:36:16,449 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:40:09,974 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:40:09,974 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:40:09,974 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:40:09,974 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:40:09,974 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:40:09,974 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:40:09,975 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:40:09,975 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:40:09,975 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:40:09,975 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:40:09,975 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:40:09,982 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:40:11,973 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:40:12,310 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:40:12,516 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:40:12,517 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:40:12,517 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:40:12,606 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:40:12,609 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:40:12,609 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:40:12,638 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:40:12,638 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:40:12,639 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:40:12,639 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:40:12,639 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:40:12,639 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:40:12,647 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-17 23:40:12,652 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,653 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:40:12,653 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,656 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:40:12,657 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(443) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:40:12,657 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,661 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:40:12,661 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:40:12,661 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,664 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,667 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,668 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,670 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,671 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:40:12,671 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,677 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,691 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,695 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,698 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,700 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:40:12,700 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:40:12,700 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:40:12,700 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,701 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:40:12,701 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,704 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:40:12,704 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:40:12,704 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-17 23:40:12,704 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:40:12,709 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:40:12,710 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:40:12,710 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:40:12,710 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:40:12,710 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:40:12,710 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:40:12,710 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:40:12,710 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:40:12,710 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:40:12,711 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1187 —Å–µ–∫—É–Ω–¥ (0.3 —á–∞—Å–æ–≤)
2025-11-17 23:40:12,711 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:40:17,266 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:44:36,104 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:44:59,769 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:44:59,769 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:44:59,769 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:44:59,769 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:44:59,769 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:44:59,769 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:44:59,770 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:44:59,770 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:44:59,770 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:44:59,770 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:44:59,770 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:44:59,774 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:45:01,616 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:45:01,945 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:45:02,153 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:45:02,153 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:45:02,153 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:45:02,237 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:45:02,239 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:45:02,240 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:45:02,267 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:45:02,268 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:45:02,268 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:45:02,269 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:45:02,269 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:45:02,269 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:45:02,282 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-17 23:45:02,286 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,286 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:45:02,286 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,290 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:45:02,291 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(484) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏)
2025-11-17 23:45:02,291 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,295 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:45:02,295 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:45:02,295 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,297 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,301 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,302 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,305 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,306 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:45:02,306 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,308 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,324 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,327 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,330 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,332 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:45:02,332 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:45:02,332 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:45:02,332 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,333 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:45:02,334 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,337 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:45:02,337 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:45:02,337 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-17 23:45:02,337 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:45:02,341 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:45:02,341 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:45:02,341 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:45:02,342 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:45:02,342 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:45:02,342 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:45:02,342 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:45:02,342 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:45:02,342 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:45:02,342 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 898 —Å–µ–∫—É–Ω–¥ (0.2 —á–∞—Å–æ–≤)
2025-11-17 23:45:02,343 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:46:00,907 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:46:00,907 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:46:00,907 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:46:00,907 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:46:00,907 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:46:00,907 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:46:00,908 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:46:00,908 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:46:00,908 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:46:00,908 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:46:00,908 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:46:00,912 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:46:02,722 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:46:03,040 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:46:03,241 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:46:03,241 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:46:03,241 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:46:03,430 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:46:03,434 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:46:03,434 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:46:03,454 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:46:03,455 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:46:03,455 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:46:03,455 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:46:03,455 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:46:03,455 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:46:03,468 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-17 23:46:03,471 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,472 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:46:03,472 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,476 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:46:03,477 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(443) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:46:03,477 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,480 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:46:03,480 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:46:03,480 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,482 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,485 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,486 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,488 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,490 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:46:03,490 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,492 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,504 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,507 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,511 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,514 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:46:03,514 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:46:03,514 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:46:03,514 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,516 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:46:03,516 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,517 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:46:03,517 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:46:03,517 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-17 23:46:03,517 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:46:03,521 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:46:03,521 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:46:03,521 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:46:03,522 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:46:03,522 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:46:03,522 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:46:03,522 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:46:03,522 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:46:03,522 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:46:03,522 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 836 —Å–µ–∫—É–Ω–¥ (0.2 —á–∞—Å–æ–≤)
2025-11-17 23:46:03,522 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:46:23,128 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:48:32,488 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:48:32,488 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:48:32,488 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:48:32,488 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:48:32,488 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:48:32,488 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:48:32,489 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:48:32,489 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:48:32,489 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:48:32,489 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:48:32,490 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:48:32,493 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:48:34,288 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:48:34,604 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:48:34,808 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:48:34,808 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:48:34,808 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:48:34,996 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:48:35,000 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:48:35,000 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:48:35,030 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:48:35,031 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:48:35,031 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:48:35,031 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:48:35,031 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:48:35,031 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:48:35,047 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-17 23:48:35,051 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,052 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:48:35,052 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,056 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:48:35,057 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(467) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:48:35,057 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,060 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:48:35,060 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:48:35,060 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,063 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,066 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,068 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,070 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,072 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:48:35,072 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,075 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,092 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,097 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,100 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,103 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:48:35,103 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:48:35,103 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:48:35,103 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,105 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:48:35,105 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,109 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:48:35,109 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:35,109 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-17 23:48:35,109 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:48:35,115 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:48:35,116 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:48:35,117 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:48:35,117 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:48:35,117 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:48:35,117 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:48:35,117 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:48:35,117 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:48:35,117 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:48:35,117 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 685 —Å–µ–∫—É–Ω–¥ (0.2 —á–∞—Å–æ–≤)
2025-11-17 23:48:35,118 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:48:43,209 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:48:52,076 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:48:52,076 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:48:52,076 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:48:52,076 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:48:52,077 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:48:52,077 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:48:52,077 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:48:52,077 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:48:52,077 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:48:52,077 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:48:52,078 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:48:52,082 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:48:53,828 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:48:54,154 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:48:54,364 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:48:54,365 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:48:54,365 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:48:54,450 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:48:54,452 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:48:54,452 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:48:54,482 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:48:54,482 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:48:54,484 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:48:54,484 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:48:54,484 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:48:54,484 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:48:54,498 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-17 23:48:54,503 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,504 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:48:54,504 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,508 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:48:54,509 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(443) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:48:54,509 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,512 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:48:54,512 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:48:54,514 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,515 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,518 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,519 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,522 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,524 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:48:54,524 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,528 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,544 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,547 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,551 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,553 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:48:54,553 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:48:54,553 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:48:54,553 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,554 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:48:54,555 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,556 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:48:54,556 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:48:54,556 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-17 23:48:54,556 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:48:54,561 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:48:54,562 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:48:54,562 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:48:54,562 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:48:54,562 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:48:54,563 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:48:54,563 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:48:54,563 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:48:54,563 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:48:54,563 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 665 —Å–µ–∫—É–Ω–¥ (0.2 —á–∞—Å–æ–≤)
2025-11-17 23:48:54,563 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:49:01,867 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:49:33,284 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:49:33,284 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:49:33,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:49:33,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:49:33,284 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:49:33,284 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:49:33,285 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:49:33,285 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:49:33,285 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:49:33,285 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:49:33,286 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:49:33,291 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:49:35,397 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:49:35,749 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:49:35,950 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:49:35,950 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:49:35,950 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:49:36,032 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:49:36,037 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:49:36,037 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:49:36,068 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:49:36,071 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:49:36,071 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:49:36,071 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:49:36,071 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:49:36,071 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:49:36,079 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-17 23:49:36,085 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,086 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:49:36,086 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,089 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:49:36,090 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(443) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:49:36,090 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,094 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:49:36,094 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:49:36,094 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,096 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,099 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,100 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,103 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,104 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:49:36,104 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,107 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,124 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,126 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,131 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,133 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:49:36,133 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:49:36,133 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:49:36,133 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,136 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:49:36,136 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,138 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:49:36,138 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:49:36,138 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-17 23:49:36,138 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:49:36,142 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:49:36,142 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:49:36,144 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:49:36,144 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:49:36,144 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:49:36,144 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:49:36,144 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:49:36,144 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:49:36,144 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:49:36,144 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 624 —Å–µ–∫—É–Ω–¥ (0.2 —á–∞—Å–æ–≤)
2025-11-17 23:49:36,145 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:49:39,634 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:52:18,865 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:52:18,865 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:52:18,865 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:52:18,866 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:52:18,866 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:52:18,866 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:52:18,866 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:52:18,866 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:52:18,866 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:52:18,866 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:52:18,867 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:52:18,872 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:52:20,567 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:52:20,902 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:52:21,107 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:52:21,107 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:52:21,107 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:52:21,190 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:52:21,192 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:52:21,192 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:52:21,218 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:52:21,219 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:52:21,220 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:52:21,220 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:52:21,220 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:52:21,220 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:52:21,232 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-17 23:52:21,236 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,238 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:52:21,238 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,242 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:52:21,243 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(436) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:52:21,243 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,245 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:52:21,245 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:52:21,245 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,249 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,252 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,254 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,256 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,256 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:52:21,256 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,260 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,276 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,279 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,282 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,284 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:52:21,284 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:52:21,284 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:52:21,284 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,286 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:52:21,286 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,290 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:52:21,290 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:52:21,290 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-17 23:52:21,290 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:52:21,294 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:52:21,294 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:52:21,294 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:52:21,295 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:52:21,295 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:52:21,295 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:52:21,295 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:52:21,295 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:52:21,295 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:52:21,295 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 459 —Å–µ–∫—É–Ω–¥ (0.1 —á–∞—Å–æ–≤)
2025-11-17 23:52:21,296 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:52:36,010 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:52:41,737 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:53:26,955 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:53:26,955 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:53:26,955 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:53:26,955 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:53:26,955 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:53:26,955 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:53:26,956 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:53:26,956 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:53:26,956 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:53:26,956 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:53:26,957 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:53:26,963 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:53:28,631 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:53:28,983 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:53:29,190 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:53:29,191 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:53:29,191 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:53:29,280 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:53:29,284 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:53:29,284 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:53:29,316 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:53:29,318 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:53:29,318 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:53:29,318 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:53:29,318 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:53:29,318 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:53:29,356 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,357 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,361 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,363 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:53:29,363 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,366 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:53:29,368 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(443) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:53:29,368 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,370 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:53:29,370 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:53:29,371 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,371 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,374 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,376 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,378 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,379 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:53:29,379 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,383 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,384 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,389 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,391 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,394 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:53:29,394 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:53:29,394 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:53:29,394 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,396 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:53:29,396 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,399 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:53:29,399 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:29,399 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 23:53:29,399 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:53:29,405 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:53:29,405 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:53:29,405 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:53:29,406 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:53:29,406 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:53:29,406 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:53:29,406 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:53:29,406 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:53:29,406 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:53:29,406 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 391 —Å–µ–∫—É–Ω–¥ (0.1 —á–∞—Å–æ–≤)
2025-11-17 23:53:29,406 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:53:34,234 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:53:34,234 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:53:34,234 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:53:34,234 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:53:34,234 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:53:34,234 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:53:34,235 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:53:34,235 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:53:34,235 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:53:34,235 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:53:34,235 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:53:34,241 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:53:36,221 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:53:36,544 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:53:36,746 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:53:36,746 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:53:36,746 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:53:36,834 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:53:36,837 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:53:36,838 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:53:36,865 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:53:36,867 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:53:36,867 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:53:36,867 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:53:36,867 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:53:36,868 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:53:36,904 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,904 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,909 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,910 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:53:36,910 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,914 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:53:36,915 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(436) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:53:36,915 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,917 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:53:36,917 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:53:36,917 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,918 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,921 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,922 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,925 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,925 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:53:36,926 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,928 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,929 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,933 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,936 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,940 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:53:36,940 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:53:36,940 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:53:36,940 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,942 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:53:36,942 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,945 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:53:36,945 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:53:36,945 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 23:53:36,945 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:53:36,951 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:53:36,951 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:53:36,951 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:53:36,952 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:53:36,952 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:53:36,952 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:53:36,952 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:53:36,952 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:53:36,952 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:53:36,952 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 383 —Å–µ–∫—É–Ω–¥ (0.1 —á–∞—Å–æ–≤)
2025-11-17 23:53:36,952 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 23:53:39,641 - [ERROR] - handlers.donate.main_donate_handler - (main_donate_handler.py).donate_callback_handler(264) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-17 23:53:45,194 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 23:53:45,195 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 23:53:45,195 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:53:45,195 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:53:45,195 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:53:45,195 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 23:53:45,197 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 23:53:45,197 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 23:53:45,197 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 23:53:45,197 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 23:53:45,198 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 23:53:45,202 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 23:55:17,970 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 23:55:18,293 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 23:55:18,498 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 23:55:18,499 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 23:55:18,499 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:55:18,589 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 23:55:18,592 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 23:55:18,592 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:55:18,620 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 23:55:18,621 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 23:55:18,621 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:55:18,621 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 23:55:18,621 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:55:18,621 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 23:55:18,658 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,658 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,663 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,663 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:55:18,663 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,668 - [INFO] - handlers.donate.donate_bonus_manager - (donate_bonus_manager.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 23:55:18,670 - [INFO] - root - (main_donate_handler.py).register_donate_handlers(338) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 23:55:18,670 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,671 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 23:55:18,671 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 23:55:18,671 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,672 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,674 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,675 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,677 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,678 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 23:55:18,679 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,680 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,682 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,687 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,689 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,691 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 23:55:18,691 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 23:55:18,691 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 23:55:18,691 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,693 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 23:55:18,693 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,695 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 23:55:18,695 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 23:55:18,695 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 23:55:18,695 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 23:55:18,702 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 23:55:18,702 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 23:55:18,702 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 23:55:18,703 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:55:18,703 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 23:55:18,703 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 23:55:18,703 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 23:55:18,703 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:55:18,703 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 23:55:18,703 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 281 —Å–µ–∫—É–Ω–¥ (0.1 —á–∞—Å–æ–≤)
2025-11-17 23:55:18,703 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:00:00,057 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).run_cleanup(122) - ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ 2025-11-18 00:00:00
2025-11-18 00:00:00,057 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).run_cleanup(123) - üìä –£–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤: 0
2025-11-18 00:00:00,057 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).run_cleanup(124) - üìä –£–¥–∞–ª–µ–Ω–æ –∏—Å—Ç–µ–∫—à–∏—Ö –ø–æ–∫—É–ø–æ–∫: 0
2025-11-18 00:00:00,058 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 86400 —Å–µ–∫—É–Ω–¥ (24.0 —á–∞—Å–æ–≤)
2025-11-18 00:00:04,380 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:00:04,380 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:00:04,380 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:00:04,380 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:00:04,382 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:00:04,382 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:00:04,382 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:00:04,382 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:00:04,382 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:00:04,382 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:00:04,382 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:00:04,387 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:04:21,038 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:04:21,355 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:04:21,558 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:04:21,558 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:04:21,558 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:04:21,643 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:04:21,645 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:04:21,645 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:04:21,668 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:04:21,668 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:04:21,669 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:04:21,669 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:04:21,669 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:04:21,669 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:04:21,691 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'register_donate_handlers' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-18 00:04:21,695 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,695 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:04:21,695 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,696 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ donate: module 'handlers.donate' has no attribute 'register_donate_handlers'
2025-11-18 00:04:21,699 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:04:21,699 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:04:21,699 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,701 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,704 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,705 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,707 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,708 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:04:21,708 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,712 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,727 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,733 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,736 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,737 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:04:21,738 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:04:21,738 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:04:21,738 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,739 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:04:21,739 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,742 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:04:21,742 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:04:21,742 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 15
2025-11-18 00:04:21,742 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:04:21,748 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:04:21,748 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:04:21,749 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:04:21,749 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:04:21,749 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:04:21,749 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:04:21,749 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:04:21,749 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:04:21,749 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:04:21,750 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 86138 —Å–µ–∫—É–Ω–¥ (23.9 —á–∞—Å–æ–≤)
2025-11-18 00:04:21,750 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:04:35,286 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:04:35,287 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:04:35,287 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:04:35,287 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:04:35,287 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:04:35,287 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:04:35,287 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:04:35,287 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:04:35,287 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:04:35,287 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:04:35,288 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:04:35,293 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:05:16,297 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:05:16,612 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:05:16,817 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:05:16,817 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:05:16,817 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:05:16,903 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:05:16,907 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:05:16,908 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:05:16,929 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:05:16,929 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:05:16,929 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:05:16,929 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:05:16,932 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:05:16,932 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:05:16,946 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'register_donate_handlers' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-18 00:05:16,949 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,950 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:05:16,950 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,950 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ donate: module 'handlers.donate' has no attribute 'register_donate_handlers'
2025-11-18 00:05:16,954 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:05:16,954 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:05:16,954 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,955 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,957 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,958 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,959 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,961 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:05:16,961 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,963 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,976 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,980 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,981 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,982 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:05:16,982 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:05:16,983 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:05:16,983 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,984 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:05:16,984 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,986 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:05:16,986 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:05:16,986 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 15
2025-11-18 00:05:16,986 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:05:16,990 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:05:16,991 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:05:16,991 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:05:16,992 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:05:16,992 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:05:16,992 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:05:16,992 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:05:16,992 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:05:16,992 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:05:16,992 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 86083 —Å–µ–∫—É–Ω–¥ (23.9 —á–∞—Å–æ–≤)
2025-11-18 00:05:16,992 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:05:25,527 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:05:25,529 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:05:25,529 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:05:25,529 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:05:25,529 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:05:25,529 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:05:25,529 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:05:25,529 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:05:25,529 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:05:25,529 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:05:25,531 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:05:25,534 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:08:43,440 - [INFO] - __main__ - (main.py).main(314) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:08:43,808 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:08:44,022 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:08:44,022 - [INFO] - __main__ - (main.py).on_startup(223) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:08:44,022 - [INFO] - __main__ - (main.py).on_startup(226) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:08:44,104 - [INFO] - __main__ - (main.py).setup_database(87) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:08:44,107 - [INFO] - __main__ - (main.py).setup_database(94) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:08:44,107 - [INFO] - __main__ - (main.py).on_startup(230) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:08:44,137 - [INFO] - __main__ - (main.py).cleanup_old_limits(119) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:08:44,138 - [INFO] - __main__ - (main.py).setup_middleware_first(135) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:08:44,139 - [INFO] - __main__ - (main.py).setup_middleware_first(139) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:08:44,139 - [INFO] - __main__ - (main.py).setup_middleware_first(147) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:08:44,139 - [INFO] - __main__ - (main.py).on_startup(238) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:08:44,139 - [INFO] - __main__ - (main.py).register_all_handlers(158) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:08:44,151 - [ERROR] - __main__ - (main.py).register_all_handlers(178) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'register_donate_handlers' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-18 00:08:44,155 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,156 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:08:44,156 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,156 - [ERROR] - __main__ - (main.py).register_all_handlers(178) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ donate: module 'handlers.donate' has no attribute 'register_donate_handlers'
2025-11-18 00:08:44,159 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:08:44,159 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:08:44,159 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,163 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,166 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,167 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,169 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,170 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:08:44,170 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,174 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,196 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,198 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,202 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,205 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:08:44,205 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:08:44,205 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:08:44,205 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,207 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:08:44,207 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,209 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:08:44,210 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:08:44,210 - [INFO] - __main__ - (main.py).register_all_handlers(182) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 15
2025-11-18 00:08:44,210 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:08:44,213 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:08:44,214 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(191) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:08:44,214 - [INFO] - __main__ - (main.py).on_startup(249) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:08:44,215 - [INFO] - __main__ - (main.py).start_cleanup_tasks(205) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:08:44,215 - [INFO] - __main__ - (main.py).start_cleanup_tasks(210) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:08:44,215 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:08:44,215 - [INFO] - __main__ - (main.py).start_cleanup_tasks(214) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:08:44,215 - [INFO] - __main__ - (main.py).on_startup(252) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:08:44,215 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:08:44,215 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 85876 —Å–µ–∫—É–Ω–¥ (23.9 —á–∞—Å–æ–≤)
2025-11-18 00:08:44,216 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:09:17,662 - [INFO] - __main__ - (main.py).signal_handler(306) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:09:17,663 - [INFO] - __main__ - (main.py).on_shutdown(257) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:09:17,663 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:09:17,663 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:09:17,663 - [INFO] - __main__ - (main.py).on_shutdown(265) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:09:17,663 - [INFO] - __main__ - (main.py).on_shutdown(274) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:09:17,663 - [INFO] - __main__ - (main.py).on_shutdown(282) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:09:17,663 - [INFO] - __main__ - (main.py).on_shutdown(290) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:09:17,663 - [INFO] - __main__ - (main.py).on_shutdown(297) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:09:17,663 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:09:17,664 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:09:17,668 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:09:19,556 - [INFO] - __main__ - (main.py).main(314) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:09:19,871 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:09:20,080 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:09:20,081 - [INFO] - __main__ - (main.py).on_startup(223) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:09:20,081 - [INFO] - __main__ - (main.py).on_startup(226) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:09:20,164 - [INFO] - __main__ - (main.py).setup_database(87) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:09:20,167 - [INFO] - __main__ - (main.py).setup_database(94) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:09:20,167 - [INFO] - __main__ - (main.py).on_startup(230) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:09:20,196 - [INFO] - __main__ - (main.py).cleanup_old_limits(119) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:09:20,198 - [INFO] - __main__ - (main.py).setup_middleware_first(135) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:09:20,198 - [INFO] - __main__ - (main.py).setup_middleware_first(139) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:09:20,198 - [INFO] - __main__ - (main.py).setup_middleware_first(147) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:09:20,198 - [INFO] - __main__ - (main.py).on_startup(238) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:09:20,198 - [INFO] - __main__ - (main.py).register_all_handlers(158) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:09:20,214 - [ERROR] - __main__ - (main.py).register_all_handlers(178) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'register_donate_handlers' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-18 00:09:20,218 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,219 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:09:20,219 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,219 - [ERROR] - __main__ - (main.py).register_all_handlers(178) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ donate: module 'handlers.donate' has no attribute 'register_donate_handlers'
2025-11-18 00:09:20,223 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:09:20,223 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:09:20,223 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,226 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,229 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,230 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,232 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,233 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:09:20,233 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,237 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,253 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,257 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,261 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,263 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:09:20,263 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:09:20,263 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:09:20,263 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,265 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:09:20,265 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,267 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:09:20,267 - [INFO] - __main__ - (main.py).register_all_handlers(175) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:09:20,267 - [INFO] - __main__ - (main.py).register_all_handlers(182) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 15
2025-11-18 00:09:20,267 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:09:20,271 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:09:20,271 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(191) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:09:20,271 - [INFO] - __main__ - (main.py).on_startup(249) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:09:20,273 - [INFO] - __main__ - (main.py).start_cleanup_tasks(205) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:09:20,273 - [INFO] - __main__ - (main.py).start_cleanup_tasks(210) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:09:20,273 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:09:20,273 - [INFO] - __main__ - (main.py).start_cleanup_tasks(214) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:09:20,273 - [INFO] - __main__ - (main.py).on_startup(252) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:09:20,273 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:09:20,273 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 85840 —Å–µ–∫—É–Ω–¥ (23.8 —á–∞—Å–æ–≤)
2025-11-18 00:09:20,273 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:10:24,225 - [INFO] - __main__ - (main.py).signal_handler(306) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:10:24,225 - [INFO] - __main__ - (main.py).on_shutdown(257) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:10:24,225 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:10:24,225 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:10:24,226 - [INFO] - __main__ - (main.py).on_shutdown(265) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:10:24,226 - [INFO] - __main__ - (main.py).on_shutdown(274) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:10:24,226 - [INFO] - __main__ - (main.py).on_shutdown(282) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:10:24,227 - [INFO] - __main__ - (main.py).on_shutdown(290) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:10:24,227 - [INFO] - __main__ - (main.py).on_shutdown(297) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:10:24,227 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:10:24,227 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:10:24,233 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:10:46,489 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:10:46,819 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:10:47,024 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:10:47,024 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:10:47,024 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:10:47,105 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:10:47,107 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:10:47,107 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:10:47,126 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:10:47,127 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:10:47,127 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:10:47,127 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:10:47,127 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:10:47,128 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:10:47,132 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'register_donate_handlers' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-18 00:10:47,135 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,135 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:10:47,135 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,135 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ donate: module 'handlers.donate' has no attribute 'register_donate_handlers'
2025-11-18 00:10:47,138 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:10:47,138 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:10:47,138 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,139 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,141 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,143 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,145 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,145 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:10:47,146 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,149 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,165 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,167 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,170 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,172 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:10:47,172 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:10:47,172 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:10:47,172 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,174 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:10:47,174 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,175 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:10:47,175 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:10:47,175 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 15
2025-11-18 00:10:47,175 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:10:47,179 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:10:47,180 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:10:47,180 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:10:47,181 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:10:47,181 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:10:47,181 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:10:47,181 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:10:47,181 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:10:47,181 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:10:47,181 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 85753 —Å–µ–∫—É–Ω–¥ (23.8 —á–∞—Å–æ–≤)
2025-11-18 00:10:47,181 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:11:26,273 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:11:26,273 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:11:26,273 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:11:26,273 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:11:26,273 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:11:26,273 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:11:26,274 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:11:26,274 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:11:26,274 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:11:26,274 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:11:26,274 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:11:26,279 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:21:23,348 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:21:23,664 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:21:23,868 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:21:23,868 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:21:23,868 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:21:23,939 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:21:23,941 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:21:23,942 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:21:23,961 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:21:23,962 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:21:23,962 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:21:23,962 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:21:23,962 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:21:23,963 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:21:23,979 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-18 00:21:23,982 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:23,982 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:21:23,982 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:23,987 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:21:23,987 - [INFO] - root - (handlers.py).register_donate_handlers(377) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:21:23,987 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:23,989 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:21:23,989 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:21:23,989 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:23,991 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:23,993 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:23,993 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:23,994 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:23,996 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:21:23,996 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:23,998 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:24,014 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:24,016 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:24,019 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:24,020 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:21:24,021 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:21:24,021 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:21:24,021 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:24,021 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:21:24,021 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:24,023 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:21:24,023 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:21:24,024 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-18 00:21:24,024 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:21:24,026 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:21:24,028 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:21:24,028 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:21:24,028 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:21:24,029 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:21:24,029 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:21:24,029 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:21:24,029 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:21:24,029 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:21:24,029 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 85116 —Å–µ–∫—É–Ω–¥ (23.6 —á–∞—Å–æ–≤)
2025-11-18 00:21:24,029 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:21:29,720 - [ERROR] - handlers.donate.handlers - (handlers.py).donate_callback_handler(192) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-18 00:23:20,580 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:23:20,580 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:23:20,580 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:23:20,580 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:23:20,580 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:23:20,580 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:23:20,581 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:23:20,581 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:23:20,581 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:23:20,581 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:23:20,581 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:23:20,584 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:23:22,002 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:23:22,316 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:23:22,516 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:23:22,516 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:23:22,516 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:23:22,584 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:23:22,586 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:23:22,586 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:23:22,607 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:23:22,608 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:23:22,608 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:23:22,608 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:23:22,608 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:23:22,609 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:23:22,621 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-18 00:23:22,625 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,625 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:23:22,625 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,628 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:23:22,629 - [INFO] - root - (handlers.py).register_donate_handlers(378) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:23:22,629 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,632 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:23:22,633 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:23:22,633 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,634 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,636 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,637 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,638 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,639 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:23:22,639 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,642 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,653 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,656 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,658 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,659 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:23:22,659 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:23:22,659 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:23:22,659 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,660 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:23:22,660 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,662 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:23:22,662 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:23:22,662 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-18 00:23:22,662 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:23:22,665 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:23:22,665 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:23:22,665 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:23:22,666 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:23:22,666 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:23:22,666 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:23:22,666 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:23:22,666 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:23:22,666 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:23:22,666 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 84997 —Å–µ–∫—É–Ω–¥ (23.6 —á–∞—Å–æ–≤)
2025-11-18 00:23:22,666 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:23:26,105 - [ERROR] - handlers.donate.handlers - (handlers.py).donate_callback_handler(192) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-18 00:24:05,542 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:24:05,542 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:24:05,542 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:24:05,542 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:24:05,542 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:24:05,542 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:24:05,543 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:24:05,543 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:24:05,543 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:24:05,543 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:24:05,544 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:24:05,547 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:24:06,808 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:24:07,139 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:24:07,348 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:24:07,348 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:24:07,348 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:24:07,414 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:24:07,416 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:24:07,416 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:24:07,436 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:24:07,437 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:24:07,437 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:24:07,437 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:24:07,437 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:24:07,437 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:24:07,443 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-18 00:24:07,446 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,447 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:24:07,447 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,450 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:24:07,452 - [INFO] - root - (handlers.py).register_donate_handlers(378) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:24:07,452 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,454 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:24:07,454 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:24:07,454 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,455 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,457 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,458 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,459 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,460 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:24:07,460 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,464 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,476 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,479 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,485 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,487 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:24:07,487 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:24:07,487 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:24:07,487 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,488 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:24:07,488 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,491 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:24:07,492 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:24:07,492 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-18 00:24:07,492 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:24:07,495 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:24:07,495 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:24:07,495 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:24:07,496 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:24:07,496 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:24:07,496 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:24:07,496 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:24:07,496 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:24:07,496 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:24:07,496 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 84953 —Å–µ–∫—É–Ω–¥ (23.6 —á–∞—Å–æ–≤)
2025-11-18 00:24:07,496 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:25:38,311 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:25:38,311 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:25:38,311 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:25:38,311 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:25:38,311 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:25:38,311 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:25:38,312 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:25:38,312 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:25:38,312 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:25:38,312 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:25:38,312 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:25:38,315 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:25:42,016 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:25:42,343 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:25:42,543 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:25:42,543 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:25:42,545 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:25:42,716 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:25:42,717 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:25:42,717 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:25:42,736 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:25:42,737 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:25:42,737 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:25:42,737 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:25:42,737 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:25:42,737 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:25:42,748 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'DonateHandler' from 'handlers.donate' (C:\RouletteBotTelegram\handlers\donate\__init__.py)
2025-11-18 00:25:42,751 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,752 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:25:42,752 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,756 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:25:42,757 - [INFO] - root - (handlers.py).register_donate_handlers(377) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:25:42,757 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,760 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:25:42,760 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:25:42,760 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,761 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,763 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,764 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,765 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,765 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:25:42,765 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,769 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,782 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,785 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,787 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,789 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:25:42,789 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:25:42,789 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:25:42,789 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,790 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:25:42,790 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,792 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:25:42,792 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:25:42,792 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 16
2025-11-18 00:25:42,792 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:25:42,796 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:25:42,796 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:25:42,796 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:25:42,797 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:25:42,797 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:25:42,797 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:25:42,797 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:25:42,797 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:25:42,797 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:25:42,797 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 84857 —Å–µ–∫—É–Ω–¥ (23.6 —á–∞—Å–æ–≤)
2025-11-18 00:25:42,797 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:25:49,832 - [ERROR] - handlers.donate.handlers - (handlers.py).donate_callback_handler(192) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-18 00:27:13,566 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:27:13,566 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:27:13,566 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:27:13,566 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:27:13,566 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:27:13,566 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:27:13,566 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:27:13,567 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:27:13,567 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:27:13,567 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:27:13,567 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:27:13,571 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:27:14,689 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:27:14,997 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:27:15,200 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:27:15,201 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:27:15,201 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:27:15,267 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:27:15,269 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:27:15,269 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:27:15,288 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:27:15,289 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:27:15,289 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:27:15,289 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:27:15,289 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:27:15,289 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:27:15,313 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,313 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,317 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,318 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:27:15,318 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,321 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:27:15,322 - [INFO] - root - (handlers.py).register_donate_handlers(377) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:27:15,322 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,323 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:27:15,323 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:27:15,323 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,326 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,329 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,329 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,331 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,332 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:27:15,332 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,335 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,336 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,340 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,342 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,344 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:27:15,344 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:27:15,344 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:27:15,344 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,347 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:27:15,347 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,350 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:27:15,350 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:27:15,350 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-18 00:27:15,350 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:27:15,354 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:27:15,354 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:27:15,356 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:27:15,356 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:27:15,356 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:27:15,356 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:27:15,356 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:27:15,356 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:27:15,356 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:27:15,356 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 84765 —Å–µ–∫—É–Ω–¥ (23.5 —á–∞—Å–æ–≤)
2025-11-18 00:27:15,357 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:27:50,016 - [WARNING] - handlers.admin.admin_notifications - (admin_notifications.py).send_admin_action_notification(97) - Photo not found. Available files in C:\RouletteBotTelegram\handlers\media: []
2025-11-18 00:27:50,016 - [WARNING] - handlers.admin.admin_notifications - (admin_notifications.py).send_admin_action_notification(100) - Photo file not found: No suitable photo file found, falling back to text message
2025-11-18 00:27:50,144 - [INFO] - handlers.admin.main_admin_handler - (main_admin_handler.py).give_privilege(547) - Admin 1054684037 gave üëë –í–æ—Ä –≤ –∑–∞–∫–æ–Ω–µ to user 1054684037
2025-11-18 00:28:01,511 - [ERROR] - handlers.donate.handlers - (handlers.py).donate_callback_handler(192) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-18 00:28:47,047 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:28:47,048 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:28:47,048 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:28:47,048 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:28:47,048 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:28:47,048 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:28:47,048 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:28:47,048 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:28:47,048 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:28:47,048 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:28:47,048 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:28:47,052 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:28:48,366 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:28:48,696 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:28:48,930 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:28:48,930 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:28:48,930 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:28:48,999 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:28:49,001 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:28:49,001 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:28:49,019 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:28:49,020 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:28:49,020 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:28:49,020 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:28:49,020 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:28:49,020 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:28:49,047 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,047 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,050 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,050 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:28:49,050 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,055 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:28:49,056 - [INFO] - root - (handlers.py).register_donate_handlers(383) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:28:49,056 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,057 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:28:49,057 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:28:49,057 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,058 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,060 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,060 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,062 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,062 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:28:49,062 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,064 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,065 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,069 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,071 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,072 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:28:49,073 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:28:49,073 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:28:49,073 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,073 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:28:49,074 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,075 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:28:49,075 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:28:49,075 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-18 00:28:49,075 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:28:49,078 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:28:49,079 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:28:49,079 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:28:49,080 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:28:49,080 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:28:49,080 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:28:49,080 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:28:49,080 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:28:49,080 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:28:49,080 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 84671 —Å–µ–∫—É–Ω–¥ (23.5 —á–∞—Å–æ–≤)
2025-11-18 00:28:49,080 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:28:57,149 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:28:57,149 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:28:57,149 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:28:57,149 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:28:57,149 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:28:57,149 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:28:57,150 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:28:57,150 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:28:57,150 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:28:57,150 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:28:57,152 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:28:57,155 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:32:41,870 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:32:42,191 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:32:42,394 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:32:42,394 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:32:42,394 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:32:42,565 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:32:42,567 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:32:42,567 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:32:42,584 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:32:42,585 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:32:42,585 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:32:42,585 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:32:42,585 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:32:42,585 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:32:42,612 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,612 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,616 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,616 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:32:42,617 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,620 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:32:42,620 - [INFO] - root - (handlers.py).register_donate_handlers(377) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:32:42,621 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,621 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:32:42,622 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:32:42,622 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,623 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,624 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,625 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,626 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,627 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:32:42,627 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,629 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,630 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,633 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,635 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,636 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:32:42,636 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:32:42,636 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:32:42,636 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,637 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:32:42,637 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,638 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:32:42,638 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:32:42,638 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-18 00:32:42,638 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:32:42,641 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:32:42,641 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:32:42,641 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:32:42,642 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:32:42,642 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:32:42,642 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:32:42,642 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:32:42,642 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:32:42,642 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:32:42,642 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 84437 —Å–µ–∫—É–Ω–¥ (23.5 —á–∞—Å–æ–≤)
2025-11-18 00:32:42,642 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:32:47,270 - [ERROR] - handlers.donate.handlers - (handlers.py).donate_callback_handler(192) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-18 00:33:15,537 - [ERROR] - handlers.donate.handlers - (handlers.py).donate_callback_handler(192) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-18 00:33:58,468 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:33:58,469 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:33:58,469 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:33:58,469 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:33:58,469 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:33:58,469 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:33:58,469 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:33:58,469 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:33:58,469 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:33:58,469 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:33:58,470 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:33:58,473 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:33:59,745 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:34:00,070 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:34:00,274 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:34:00,274 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:34:00,275 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:34:00,344 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:34:00,346 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:34:00,346 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:34:00,367 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:34:00,368 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:34:00,368 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:34:00,368 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:34:00,368 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:34:00,368 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:34:00,394 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,394 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,398 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,398 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:34:00,398 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,401 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:34:00,402 - [INFO] - root - (handlers.py).register_donate_handlers(377) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:34:00,402 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,404 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:34:00,404 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:34:00,404 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,405 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,407 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,408 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,409 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,410 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:34:00,410 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,411 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,412 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,414 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,418 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,419 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:34:00,419 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:34:00,420 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:34:00,420 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,421 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:34:00,421 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,422 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:34:00,422 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:00,422 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-18 00:34:00,422 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:34:00,425 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:34:00,425 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:34:00,425 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:34:00,426 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:34:00,426 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:34:00,426 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:34:00,426 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:34:00,426 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:34:00,426 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:34:00,426 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 84360 —Å–µ–∫—É–Ω–¥ (23.4 —á–∞—Å–æ–≤)
2025-11-18 00:34:00,426 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:34:08,414 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:34:08,414 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:34:08,414 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:34:08,414 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:34:08,414 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:34:08,414 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:34:08,414 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:34:08,414 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:34:08,415 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:34:08,415 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:34:08,415 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:34:08,418 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:34:09,723 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:34:10,026 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:34:10,227 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:34:10,227 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:34:10,227 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:34:10,290 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:34:10,292 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:34:10,292 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:34:10,311 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:34:10,312 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:34:10,312 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:34:10,312 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:34:10,312 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:34:10,312 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:34:10,335 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,336 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,339 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,339 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:34:10,339 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,342 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:34:10,343 - [INFO] - root - (handlers.py).register_donate_handlers(377) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:34:10,343 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,344 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:34:10,344 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:34:10,345 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,345 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,349 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,350 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,352 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,353 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:34:10,353 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,354 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,355 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,359 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,361 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,363 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:34:10,363 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:34:10,363 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:34:10,363 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,364 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:34:10,364 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,366 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:34:10,366 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:34:10,366 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-18 00:34:10,366 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:34:10,371 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:34:10,371 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:34:10,371 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:34:10,371 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:34:10,371 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:34:10,371 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:34:10,372 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:34:10,372 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:34:10,372 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:34:10,372 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 84350 —Å–µ–∫—É–Ω–¥ (23.4 —á–∞—Å–æ–≤)
2025-11-18 00:34:10,372 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:34:13,547 - [ERROR] - handlers.donate.handlers - (handlers.py).donate_callback_handler(192) - Error in donate callback handler: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-11-18 00:41:52,676 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:41:52,676 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:41:52,676 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:41:52,676 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:41:52,676 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:41:52,676 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:41:52,676 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:41:52,676 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:41:52,676 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:41:52,676 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:41:52,677 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:41:52,679 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 00:41:54,115 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 00:41:54,428 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 00:41:54,627 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 00:41:54,627 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 00:41:54,627 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:41:54,702 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 00:41:54,704 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 00:41:54,704 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:41:54,722 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 00:41:54,723 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 00:41:54,723 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:41:54,723 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 00:41:54,723 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:41:54,724 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 00:41:54,752 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,752 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,756 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,756 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:41:54,756 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,758 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 00:41:54,759 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 00:41:54,759 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,761 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 00:41:54,761 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 00:41:54,761 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,762 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,764 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,764 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,766 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,767 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 00:41:54,767 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,769 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,770 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,773 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,775 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,777 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 00:41:54,777 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 00:41:54,777 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 00:41:54,777 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,777 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 00:41:54,777 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,779 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 00:41:54,779 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 00:41:54,780 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-18 00:41:54,780 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 00:41:54,784 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 00:41:54,784 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 00:41:54,784 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:41:54,784 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:41:54,785 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 00:41:54,785 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 00:41:54,785 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 00:41:54,785 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:41:54,785 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 00:41:54,785 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 83885 —Å–µ–∫—É–Ω–¥ (23.3 —á–∞—Å–æ–≤)
2025-11-18 00:41:54,785 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 00:42:37,117 - [WARNING] - handlers.admin.admin_notifications - (admin_notifications.py).send_admin_action_notification(97) - Photo not found. Available files in C:\RouletteBotTelegram\handlers\media: []
2025-11-18 00:42:37,117 - [WARNING] - handlers.admin.admin_notifications - (admin_notifications.py).send_admin_action_notification(100) - Photo file not found: No suitable photo file found, falling back to text message
2025-11-18 00:42:37,262 - [INFO] - handlers.admin.main_admin_handler - (main_admin_handler.py).give_privilege(547) - Admin 1054684037 gave üëÆ‚Äç‚ôÇÔ∏è –ü–æ–ª–∏—Ü–µ–π—Å–∫–∏–π to user 1054684037
2025-11-18 00:46:06,281 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 00:46:06,281 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 00:46:06,282 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 00:46:06,282 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:46:06,282 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:46:06,282 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 00:46:06,282 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 00:46:06,282 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 00:46:06,282 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 00:46:06,282 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 00:46:06,284 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 00:46:06,287 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 20:44:42,263 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 20:44:42,574 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 20:44:42,771 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 20:44:42,771 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 20:44:42,771 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:44:43,097 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 20:44:43,099 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 20:44:43,100 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:44:43,137 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 20:44:43,138 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 20:44:43,138 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:44:43,138 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 20:44:43,140 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:44:43,140 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:44:43,187 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,187 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,193 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,194 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:44:43,194 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,204 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 20:44:43,205 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 20:44:43,205 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,208 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 20:44:43,208 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 20:44:43,208 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,210 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,212 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,215 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,218 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,220 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 20:44:43,220 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,222 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,223 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,227 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,232 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,234 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 20:44:43,235 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 20:44:43,235 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 20:44:43,235 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,236 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 20:44:43,236 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,240 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:44:43,240 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:44:43,240 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-18 20:44:43,240 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:44:43,249 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 20:44:43,249 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:44:43,249 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:44:43,250 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:44:43,250 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 20:44:43,250 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 20:44:43,250 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 20:44:43,250 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:44:43,250 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:44:43,250 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 11717 —Å–µ–∫—É–Ω–¥ (3.3 —á–∞—Å–æ–≤)
2025-11-18 20:44:43,251 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 20:45:05,601 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 20:45:05,601 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 20:45:05,601 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:45:05,601 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:45:05,602 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:45:05,602 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 20:45:05,602 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 20:45:05,602 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 20:45:05,602 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:45:05,602 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 20:45:05,604 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 20:45:05,612 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 20:54:10,012 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 20:54:10,344 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 20:54:10,549 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 20:54:10,549 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 20:54:10,549 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:54:10,662 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 20:54:10,664 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 20:54:10,664 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:54:10,691 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 20:54:10,693 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 20:54:10,693 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:54:10,693 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 20:54:10,693 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:54:10,693 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:54:10,724 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,725 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,730 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,730 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:54:10,730 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,737 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 20:54:10,739 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 20:54:10,739 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,740 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 20:54:10,740 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 20:54:10,740 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,742 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,744 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,746 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,748 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,748 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 20:54:10,748 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,751 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,753 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,756 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,760 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,762 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 20:54:10,762 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 20:54:10,762 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 20:54:10,762 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,764 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 20:54:10,764 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,766 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:54:10,766 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,789 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 20:54:10,789 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:54:10,789 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 20:54:10,789 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:54:10,794 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 20:54:10,796 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:54:10,796 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:54:10,797 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:54:10,797 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 20:54:10,797 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 20:54:10,797 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 20:54:10,797 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:54:10,797 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:54:10,797 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 11149 —Å–µ–∫—É–Ω–¥ (3.1 —á–∞—Å–æ–≤)
2025-11-18 20:54:10,797 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 20:54:18,963 - [ERROR] - root - (start.py)._send_main_menu(478) - ‚ùå –û—à–∏–±–∫–∞ –≤ _send_main_menu: maximum recursion depth exceeded
2025-11-18 20:54:30,559 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 20:54:30,560 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 20:54:30,560 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:54:30,560 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:54:30,560 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:54:30,560 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 20:54:30,560 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 20:54:30,560 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 20:54:30,560 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:54:30,560 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 20:54:30,562 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 20:54:30,569 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 20:55:41,398 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 20:55:41,710 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 20:55:41,910 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 20:55:41,910 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 20:55:41,910 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:55:41,984 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 20:55:41,986 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 20:55:41,986 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:55:42,009 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 20:55:42,010 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 20:55:42,011 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:55:42,011 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 20:55:42,011 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:55:42,011 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:55:42,041 - [INFO] - root - (start.py).register_start_handler(757) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,041 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,045 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,045 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:55:42,045 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,049 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 20:55:42,050 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 20:55:42,050 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,051 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 20:55:42,051 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 20:55:42,051 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,053 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,055 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,055 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,058 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,058 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 20:55:42,059 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,060 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,062 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,065 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,067 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,069 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 20:55:42,069 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 20:55:42,069 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 20:55:42,069 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,070 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 20:55:42,070 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,072 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:55:42,072 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,075 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 20:55:42,075 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:55:42,076 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 20:55:42,076 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:55:42,079 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 20:55:42,080 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:55:42,080 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:55:42,080 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:55:42,080 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 20:55:42,080 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 20:55:42,080 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 20:55:42,080 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:55:42,080 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:55:42,080 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 11058 —Å–µ–∫—É–Ω–¥ (3.1 —á–∞—Å–æ–≤)
2025-11-18 20:55:42,080 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 20:55:43,008 - [ERROR] - root - (start.py)._send_main_menu(479) - ‚ùå –û—à–∏–±–∫–∞ –≤ _send_main_menu: maximum recursion depth exceeded
2025-11-18 20:55:43,016 - [ERROR] - root - (start.py)._send_main_menu(487) - ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ _send_main_menu: maximum recursion depth exceeded
2025-11-18 20:55:46,309 - [ERROR] - root - (start.py)._send_main_menu(479) - ‚ùå –û—à–∏–±–∫–∞ –≤ _send_main_menu: maximum recursion depth exceeded
2025-11-18 20:55:46,357 - [ERROR] - root - (start.py)._send_main_menu(487) - ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ _send_main_menu: maximum recursion depth exceeded
2025-11-18 20:56:22,775 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 20:56:22,775 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 20:56:22,775 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:56:22,775 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:56:22,775 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:56:22,775 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 20:56:22,776 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 20:56:22,776 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 20:56:22,776 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:56:22,776 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 20:56:22,776 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 20:56:22,779 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 20:57:22,987 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 20:57:23,308 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 20:57:23,511 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 20:57:23,511 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 20:57:23,511 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:57:23,582 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 20:57:23,585 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 20:57:23,585 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:57:23,606 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 20:57:23,607 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 20:57:23,607 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:57:23,607 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 20:57:23,608 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:57:23,608 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:57:23,635 - [INFO] - root - (start.py).register_start_handler(768) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,635 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,640 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,641 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:57:23,641 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,644 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 20:57:23,645 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 20:57:23,645 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,646 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 20:57:23,646 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 20:57:23,647 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,648 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,650 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,651 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,653 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,654 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 20:57:23,654 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,656 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,657 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,659 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,662 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,664 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 20:57:23,664 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 20:57:23,664 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 20:57:23,664 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,666 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 20:57:23,667 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,668 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:57:23,668 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,671 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 20:57:23,671 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:23,671 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 20:57:23,671 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:57:23,674 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 20:57:23,675 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:57:23,675 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:57:23,675 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:57:23,676 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 20:57:23,676 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 20:57:23,676 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 20:57:23,676 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:57:23,676 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:57:23,676 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10956 —Å–µ–∫—É–Ω–¥ (3.0 —á–∞—Å–æ–≤)
2025-11-18 20:57:23,676 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 20:57:24,631 - [ERROR] - root - (start.py)._send_main_menu(482) - ‚ùå –û—à–∏–±–∫–∞ –≤ _send_main_menu: maximum recursion depth exceeded
2025-11-18 20:57:29,816 - [ERROR] - root - (start.py)._send_main_menu(482) - ‚ùå –û—à–∏–±–∫–∞ –≤ _send_main_menu: maximum recursion depth exceeded
2025-11-18 20:57:40,151 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 20:57:40,153 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 20:57:40,153 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:57:40,153 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:57:40,153 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:57:40,153 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 20:57:40,154 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 20:57:40,154 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 20:57:40,154 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:57:40,154 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 20:57:49,307 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 20:57:50,619 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 20:57:50,817 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 20:57:50,817 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 20:57:50,817 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:57:50,890 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 20:57:50,892 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 20:57:50,893 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:57:50,915 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 20:57:50,916 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 20:57:50,916 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:57:50,916 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 20:57:50,916 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:57:50,916 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:57:50,943 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,943 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,947 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,947 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:57:50,947 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,951 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 20:57:50,952 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 20:57:50,952 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,953 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 20:57:50,953 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 20:57:50,953 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,954 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,957 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,958 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,959 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,960 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 20:57:50,960 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,962 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,963 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,966 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,969 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,971 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 20:57:50,971 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 20:57:50,971 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 20:57:50,971 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,972 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 20:57:50,972 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,974 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:57:50,974 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,976 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 20:57:50,976 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:57:50,976 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 20:57:50,976 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:57:50,980 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 20:57:50,980 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:57:50,980 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:57:50,981 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:57:50,981 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 20:57:50,981 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 20:57:50,981 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 20:57:50,981 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:57:50,981 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:57:50,981 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10929 —Å–µ–∫—É–Ω–¥ (3.0 —á–∞—Å–æ–≤)
2025-11-18 20:57:50,981 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 20:57:56,430 - [ERROR] - root - (start.py)._send_main_menu(478) - ‚ùå –û—à–∏–±–∫–∞ –≤ _send_main_menu: maximum recursion depth exceeded
2025-11-18 20:57:59,345 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 20:57:59,345 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 20:57:59,345 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:57:59,345 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:57:59,345 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:57:59,345 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 20:57:59,346 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 20:57:59,346 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 20:57:59,346 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:57:59,346 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 20:57:59,346 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 20:57:59,351 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 20:58:44,244 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 20:58:44,567 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 20:58:44,780 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 20:58:44,780 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 20:58:44,780 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:58:44,851 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 20:58:44,852 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 20:58:44,853 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:58:44,875 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 20:58:44,877 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 20:58:44,877 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:58:44,877 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 20:58:44,877 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:58:44,877 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:58:44,901 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,901 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,907 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,908 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:58:44,908 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,911 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 20:58:44,912 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 20:58:44,912 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,913 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 20:58:44,913 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 20:58:44,913 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,914 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,917 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,917 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,919 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,920 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 20:58:44,920 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,922 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,923 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,926 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,927 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,929 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 20:58:44,929 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 20:58:44,929 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 20:58:44,929 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,931 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 20:58:44,931 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,933 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:58:44,933 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,935 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 20:58:44,935 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:58:44,935 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 20:58:44,935 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:58:44,940 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 20:58:44,940 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:58:44,940 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:58:44,941 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:58:44,941 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 20:58:44,941 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 20:58:44,941 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 20:58:44,941 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:58:44,941 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:58:44,941 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10875 —Å–µ–∫—É–Ω–¥ (3.0 —á–∞—Å–æ–≤)
2025-11-18 20:58:44,941 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 20:58:54,455 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 20:58:54,455 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 20:58:54,455 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:58:54,455 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:58:54,455 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:58:54,455 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 20:58:54,455 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 20:58:54,455 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 20:58:54,455 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:58:54,455 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 20:58:54,456 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 20:58:54,459 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 20:59:04,938 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 20:59:05,259 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 20:59:05,465 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 20:59:05,465 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 20:59:05,465 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:59:05,540 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 20:59:05,543 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 20:59:05,543 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:59:05,567 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 20:59:05,568 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 20:59:05,568 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:59:05,568 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 20:59:05,568 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:59:05,568 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 20:59:05,590 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,590 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,595 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,595 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:59:05,595 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,598 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 20:59:05,599 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 20:59:05,599 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,600 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 20:59:05,600 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 20:59:05,600 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,602 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,604 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,605 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,607 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,608 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 20:59:05,608 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,610 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,612 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,614 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,616 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,618 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 20:59:05,618 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 20:59:05,618 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 20:59:05,618 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,619 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 20:59:05,619 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,620 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 20:59:05,620 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,624 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 20:59:05,624 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 20:59:05,624 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 20:59:05,624 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 20:59:05,627 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 20:59:05,628 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 20:59:05,628 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:59:05,628 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:59:05,628 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 20:59:05,628 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 20:59:05,628 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 20:59:05,628 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:59:05,628 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 20:59:05,629 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10854 —Å–µ–∫—É–Ω–¥ (3.0 —á–∞—Å–æ–≤)
2025-11-18 20:59:05,629 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 20:59:59,792 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 20:59:59,792 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 20:59:59,792 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 20:59:59,793 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:59:59,793 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:59:59,793 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 20:59:59,793 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 20:59:59,793 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 20:59:59,793 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 20:59:59,793 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 20:59:59,794 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 20:59:59,796 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:00:00,943 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:00:01,265 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:00:01,472 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:00:01,472 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:00:01,472 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:01,546 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:00:01,549 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:00:01,549 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:01,573 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:00:01,574 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:00:01,574 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:00:01,574 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:00:01,574 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:00:01,574 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:00:01,597 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,597 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,601 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,601 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:00:01,602 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,605 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:00:01,607 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:00:01,607 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,608 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:00:01,608 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:00:01,608 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,609 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,611 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,611 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,614 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,615 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:00:01,615 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,617 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,618 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,621 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,623 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,625 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:00:01,625 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:00:01,625 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:00:01,625 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,626 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:00:01,626 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,627 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:00:01,627 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,631 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 21:00:01,631 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:01,631 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:00:01,631 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:01,636 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:00:01,636 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:00:01,636 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:00:01,637 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:01,637 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:00:01,637 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:00:01,637 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:00:01,637 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:01,637 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:01,637 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10798 —Å–µ–∫—É–Ω–¥ (3.0 —á–∞—Å–æ–≤)
2025-11-18 21:00:01,637 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:00:08,411 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:00:08,736 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:00:08,940 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:00:08,940 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:00:08,940 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:09,006 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:00:09,009 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:00:09,009 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:09,027 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:00:09,028 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:00:09,028 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:00:09,028 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:00:09,028 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:00:09,029 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:00:09,049 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,049 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,054 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,054 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:00:09,054 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,057 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:00:09,058 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:00:09,058 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,059 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:00:09,059 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:00:09,059 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,060 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,062 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,063 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,065 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,066 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:00:09,066 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,067 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,069 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,071 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,073 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,076 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:00:09,076 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:00:09,076 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:00:09,076 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,077 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:00:09,077 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,078 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:00:09,078 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,082 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 21:00:09,082 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:09,082 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:00:09,082 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:09,085 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:00:09,086 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:00:09,086 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:00:09,086 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:09,086 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:00:09,086 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:00:09,087 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:00:09,087 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:09,087 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:09,087 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10791 —Å–µ–∫—É–Ω–¥ (3.0 —á–∞—Å–æ–≤)
2025-11-18 21:00:09,087 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:00:27,134 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:00:27,134 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:00:27,134 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:00:27,134 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:00:27,134 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:00:27,134 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:00:27,134 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:00:27,135 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:00:27,135 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:00:27,135 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:00:27,135 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:00:27,138 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:00:28,452 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:00:28,777 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:00:28,991 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:00:28,993 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:00:28,993 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:29,075 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:00:29,077 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:00:29,077 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:29,101 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:00:29,102 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:00:29,102 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:00:29,102 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:00:29,102 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:00:29,102 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:00:29,126 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,127 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,131 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,131 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:00:29,131 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,134 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:00:29,136 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:00:29,136 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,137 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:00:29,137 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:00:29,137 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,138 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,139 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,141 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,143 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,143 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:00:29,143 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,145 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,147 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,149 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,151 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,153 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:00:29,153 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:00:29,153 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:00:29,153 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,154 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:00:29,154 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,156 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:00:29,157 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,159 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 21:00:29,159 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:29,159 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:00:29,159 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:29,163 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:00:29,163 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:00:29,163 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:00:29,164 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:29,164 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:00:29,164 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:00:29,164 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:00:29,164 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:29,164 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:29,164 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10771 —Å–µ–∫—É–Ω–¥ (3.0 —á–∞—Å–æ–≤)
2025-11-18 21:00:29,164 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:00:57,526 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:00:57,526 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:00:57,527 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:00:57,527 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:00:57,527 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:00:57,527 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:00:57,527 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:00:57,527 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:00:57,527 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:00:57,527 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:00:57,528 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:00:57,531 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:00:58,614 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:00:58,927 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:00:59,129 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:00:59,129 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:00:59,129 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:59,193 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:00:59,195 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:00:59,196 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:59,215 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:00:59,217 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:00:59,217 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:00:59,217 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:00:59,217 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:00:59,217 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:00:59,244 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,244 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,249 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,249 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:00:59,249 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,254 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:00:59,256 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:00:59,256 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,257 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:00:59,257 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:00:59,257 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,258 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,261 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,262 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,264 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,265 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:00:59,265 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,267 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,268 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,271 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,273 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:00:59,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:00:59,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:00:59,274 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,275 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:00:59,276 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,277 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:00:59,277 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,281 - [INFO] - root - (dice_game.py).register_dice_handlers(348) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞
2025-11-18 21:00:59,281 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:00:59,281 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:00:59,281 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:00:59,286 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:00:59,286 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:00:59,286 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:00:59,286 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:59,286 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:00:59,286 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:00:59,286 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:00:59,286 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:59,286 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:00:59,286 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10741 —Å–µ–∫—É–Ω–¥ (3.0 —á–∞—Å–æ–≤)
2025-11-18 21:00:59,287 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:05:28,567 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:05:28,569 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:05:28,569 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:05:28,569 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:05:28,569 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:05:28,569 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:05:28,569 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:05:28,569 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:05:28,569 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:05:28,569 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:05:28,570 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:05:28,573 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:05:29,908 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:05:30,236 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:05:30,443 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:05:30,443 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:05:30,443 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:05:30,615 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:05:30,618 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:05:30,618 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:05:30,637 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:05:30,638 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:05:30,638 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:05:30,638 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:05:30,638 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:05:30,638 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:05:30,661 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,661 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,666 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,667 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:05:30,667 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,669 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:05:30,672 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:05:30,672 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,673 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:05:30,673 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:05:30,673 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,673 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,675 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,677 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,678 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,679 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:05:30,679 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,682 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,682 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,686 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,689 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,690 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:05:30,691 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:05:30,691 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:05:30,691 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,692 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:05:30,692 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,693 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:05:30,694 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,710 - [INFO] - root - (dice_game.py).register_dice_handlers(391) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏)
2025-11-18 21:05:30,710 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:05:30,710 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:05:30,710 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:05:30,713 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:05:30,714 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:05:30,714 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:05:30,714 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:05:30,714 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:05:30,714 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:05:30,714 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:05:30,714 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:05:30,714 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:05:30,715 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10469 —Å–µ–∫—É–Ω–¥ (2.9 —á–∞—Å–æ–≤)
2025-11-18 21:05:30,715 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:06:24,502 - [INFO] - handlers.admin.main_admin_handler - (main_admin_handler.py)._manage_coins(275) - Admin 1054684037 addcoins 100000000 coins for user 1054684037
2025-11-18 21:06:24,504 - [WARNING] - handlers.admin.admin_notifications - (admin_notifications.py).send_admin_action_notification(97) - Photo not found. Available files in C:\RouletteBotTelegram\handlers\media: []
2025-11-18 21:06:24,504 - [WARNING] - handlers.admin.admin_notifications - (admin_notifications.py).send_admin_action_notification(100) - Photo file not found: No suitable photo file found, falling back to text message
2025-11-18 21:06:54,794 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:06:54,794 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:06:54,794 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:06:54,794 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:06:54,794 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:06:54,794 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:06:54,795 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:06:54,795 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:06:54,795 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:06:54,795 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:06:54,795 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:06:54,799 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:06:55,867 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:06:56,198 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:06:56,397 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:06:56,397 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:06:56,397 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:06:56,462 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:06:56,465 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:06:56,465 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:06:56,487 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:06:56,488 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:06:56,488 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:06:56,488 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:06:56,488 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:06:56,488 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:06:56,508 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,508 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,513 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,513 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:06:56,513 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,516 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:06:56,517 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:06:56,517 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,518 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:06:56,518 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:06:56,519 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,519 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,522 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,522 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,523 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,524 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:06:56,524 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,526 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,527 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,530 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,534 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,535 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:06:56,536 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:06:56,536 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:06:56,536 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,537 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:06:56,537 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,539 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:06:56,539 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,541 - [INFO] - root - (dice_game.py).register_dice_handlers(391) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏)
2025-11-18 21:06:56,541 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:06:56,541 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:06:56,541 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:06:56,545 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:06:56,545 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:06:56,545 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:06:56,546 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:06:56,546 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:06:56,546 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:06:56,546 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:06:56,546 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:06:56,546 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:06:56,546 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 10383 —Å–µ–∫—É–Ω–¥ (2.9 —á–∞—Å–æ–≤)
2025-11-18 21:06:56,547 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:20:19,274 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:20:19,274 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:20:19,274 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:20:19,274 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:20:19,274 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:20:19,274 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:20:19,274 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:20:19,274 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:20:19,274 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:20:19,274 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:20:19,276 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:20:19,279 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:20:26,425 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:20:26,801 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:20:27,044 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:20:27,044 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:20:27,044 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:20:27,228 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:20:27,231 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:20:27,231 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:20:27,257 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:20:27,259 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:20:27,259 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:20:27,259 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:20:27,259 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:20:27,259 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:20:27,282 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,282 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,287 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,287 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:20:27,288 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,292 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:20:27,293 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:20:27,293 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,294 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:20:27,294 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:20:27,294 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,295 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,298 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,299 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,301 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,302 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:20:27,302 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,304 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,305 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,309 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,311 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,313 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:20:27,313 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:20:27,313 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:20:27,313 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,314 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:20:27,314 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,317 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:20:27,317 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,325 - [INFO] - root - (dice_game.py).register_dice_handlers(396) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Å–æ —Å—Ç–∏–∫–µ—Ä–∞–º–∏)
2025-11-18 21:20:27,325 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:20:27,325 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:20:27,325 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:20:27,329 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:20:27,329 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:20:27,329 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:20:27,330 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:20:27,330 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:20:27,331 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:20:27,331 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:20:27,331 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:20:27,331 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:20:27,331 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 9573 —Å–µ–∫—É–Ω–¥ (2.7 —á–∞—Å–æ–≤)
2025-11-18 21:20:27,331 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:21:33,461 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-40' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=IndexError('list index out of range')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 108, in notify
    data.update(await check_filters(handler_obj.filters, args))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\filters\filters.py", line 77, in check_filters
    f = await execute_filter(filter_, args)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\filters\filters.py", line 63, in execute_filter
    return filter_.filter(*args, **filter_.kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\thief\handlers.py", line 16, in is_rob_cmd
    return normalize_cmd(msg.text) in ["—É–∫—Ä–∞—Å—Ç—å", "–æ–≥—Ä–∞–±–∏—Ç—å", "–≤–æ—Ä—É–π"]
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\thief\handlers.py", line 12, in normalize_cmd
    return text.strip().lower().split()[0]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range
2025-11-18 21:22:01,237 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: ','
2025-11-18 21:22:05,130 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫—É–±–∏–∫'
2025-11-18 21:22:22,329 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫—É–±–∏–∫'
2025-11-18 21:22:24,998 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫—É–±–∏–∫'
2025-11-18 21:22:25,622 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫—É–±–∏–∫'
2025-11-18 21:22:31,097 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–±–ª–æ–∫'
2025-11-18 21:22:33,836 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–º–∞–π–Ω–∫—Ä–∞—Ñ—Ç'
2025-11-18 21:22:35,557 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫—É–±–∏–∫'
2025-11-18 21:22:41,558 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Å–ª–æ–º–∞–ª'
2025-11-18 21:23:12,682 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–≤ –ª—Å –∂–∞'
2025-11-18 21:23:13,602 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–¥–∞'
2025-11-18 21:23:15,397 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ä–∞–±–æ—Ç–∞–µ—Ç'
2025-11-18 21:24:52,117 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:24:52,118 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:24:52,118 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:24:52,118 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:24:52,118 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:24:52,118 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:24:52,118 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:24:52,118 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:24:52,118 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:24:52,118 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:24:52,119 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:24:52,122 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:24:53,396 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:24:53,726 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:24:53,970 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:24:53,970 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:24:53,970 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:24:54,048 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:24:54,051 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:24:54,051 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:24:54,077 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:24:54,079 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:24:54,079 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:24:54,079 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:24:54,079 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:24:54,079 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:24:54,104 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,104 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,110 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,110 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:24:54,111 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,113 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:24:54,114 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:24:54,114 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,116 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:24:54,116 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:24:54,116 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,117 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,119 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,120 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,123 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,123 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:24:54,123 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,125 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,126 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,128 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,133 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,135 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:24:54,135 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:24:54,137 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:24:54,137 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,139 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:24:54,139 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,140 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:24:54,140 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,143 - [INFO] - root - (dice_game.py).register_dice_handlers(396) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Å–æ —Å—Ç–∏–∫–µ—Ä–∞–º–∏)
2025-11-18 21:24:54,143 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:24:54,143 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:24:54,143 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:24:54,147 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:24:54,147 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:24:54,147 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:24:54,149 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:24:54,149 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:24:54,149 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:24:54,149 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:24:54,149 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:24:54,149 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:24:54,149 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 9306 —Å–µ–∫—É–Ω–¥ (2.6 —á–∞—Å–æ–≤)
2025-11-18 21:24:54,149 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:25:24,746 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–≤—Å–µ —Å–ª–∏–ª'
2025-11-18 21:25:54,209 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–¥–µ–Ω—å–≥–∏ —Å–ª–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ –≤–æ–¥–æ–ø–∞–¥'
2025-11-18 21:26:26,084 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–≥–¥–µ'
2025-11-18 21:26:28,870 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ñ–∞–π–ª—ã'
2025-11-18 21:26:41,098 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∞ –Ω–µ'
2025-11-18 21:26:43,373 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–¥—Ä–∏—Å—Ç–Ω—è'
2025-11-18 21:26:48,962 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ç—É—Ç –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –ø–∏—Å–∞—Ç—å'
2025-11-18 21:26:53,459 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–¥–æ–º–∞ –∫–æ—Ä–æ—á–µ —Å–¥–µ–ª–∞—é'
2025-11-18 21:26:56,003 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫–æ–¥'
2025-11-18 21:27:14,383 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–º–µ—à–∞—é—Ç –ª—é–¥–∏'
2025-11-18 21:27:16,058 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–Ω–µ –∫–∞–π—Ñ'
2025-11-18 21:27:20,165 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫—Å'
2025-11-18 21:27:27,344 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∑–∏–º–Ω–∏–π –¥–∞—Å—Ç'
2025-11-18 21:27:34,653 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–ª–∞–Ω'
2025-11-18 21:28:11,875 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ç–∞–∫–æ–µ –æ—â—É—â–µ–Ω–∏–µ'
2025-11-18 21:28:23,364 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—á—Ç–æ –º—ã –¥–æ 20 –Ω–æ—è–±—Ä—è –∑–∞–∫–æ–Ω—á–∏–º'
2025-11-18 21:28:41,963 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∑–∞–≤—Ç—Ä–∞ –≤—ã—Ö–æ–¥–Ω–æ–π –≤–æ–∑—å–º—É'
2025-11-18 21:28:44,247 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∏ –≤—Å–µ —Å–¥–µ–ª–∞—é'
2025-11-18 21:32:20,523 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–ø–æ–∫–∞–∂–∏'
2025-11-18 21:32:21,793 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Å—Ç—Ä—É–∫—Ç—É—Ä—É'
2025-11-18 21:32:30,101 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–±–æ—Ç–∞'
2025-11-18 21:32:31,309 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫–æ–¥–∞'
2025-11-18 21:32:33,593 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–ø–∞–ø–∫–∏'
2025-11-18 21:32:59,463 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:32:59,464 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:32:59,464 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:32:59,464 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:32:59,464 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:32:59,464 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:32:59,464 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:32:59,464 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:32:59,464 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:32:59,465 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:32:59,465 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:32:59,470 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:33:01,275 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:33:01,613 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:33:01,834 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:33:01,834 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:33:01,834 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:33:01,911 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:33:01,913 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:33:01,913 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:33:01,940 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:33:01,941 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:33:01,941 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:33:01,941 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:33:01,941 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:33:01,941 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:33:01,971 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,972 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,978 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,978 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:33:01,978 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,982 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:33:01,983 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:33:01,983 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,984 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:33:01,985 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:33:01,985 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,986 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,988 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,990 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,992 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,993 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:33:01,993 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,995 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:01,997 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:02,000 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:02,004 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:02,005 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:33:02,005 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:33:02,005 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:33:02,005 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:02,006 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:33:02,006 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:02,008 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:33:02,008 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:02,015 - [ERROR] - __main__ - (main.py).register_all_handlers(180) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ dice_game: No module named 'handlers.dice_game.utils'
2025-11-18 21:33:02,015 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-18 21:33:02,015 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:33:02,020 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:33:02,021 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:33:02,021 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:33:02,021 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:33:02,021 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:33:02,021 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:33:02,021 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:33:02,021 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:33:02,021 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:33:02,021 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 8818 —Å–µ–∫—É–Ω–¥ (2.4 —á–∞—Å–æ–≤)
2025-11-18 21:33:02,022 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:33:04,961 - [ERROR] - root - (start.py).dice_game_button(684) - ‚ùå –û—à–∏–±–∫–∞ –≤ dice_game_button: No module named 'handlers.dice_game.utils'
2025-11-18 21:33:11,665 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:33:11,667 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:33:11,667 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:33:11,667 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:33:11,667 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:33:11,667 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:33:11,667 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:33:11,667 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:33:11,667 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:33:11,667 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:33:11,668 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:33:11,671 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:33:13,514 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:33:13,849 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:33:14,086 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:33:14,086 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:33:14,086 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:33:14,164 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:33:14,166 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:33:14,166 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:33:14,191 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:33:14,192 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:33:14,192 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:33:14,192 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:33:14,192 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:33:14,192 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:33:14,217 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,217 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,221 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,222 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:33:14,222 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,225 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:33:14,226 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:33:14,226 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,228 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:33:14,228 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:33:14,228 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,229 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,232 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,233 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,235 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,235 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:33:14,235 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,236 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,238 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,241 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,244 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,246 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:33:14,247 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:33:14,247 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:33:14,247 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,248 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:33:14,248 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,250 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:33:14,250 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:33:14,252 - [ERROR] - __main__ - (main.py).register_all_handlers(180) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ dice_game: No module named 'handlers.dice_game.utils'
2025-11-18 21:33:14,252 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-18 21:33:14,252 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:33:14,255 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:33:14,255 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:33:14,255 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:33:14,256 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:33:14,256 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:33:14,256 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:33:14,256 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:33:14,256 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:33:14,256 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:33:14,256 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 8806 —Å–µ–∫—É–Ω–¥ (2.4 —á–∞—Å–æ–≤)
2025-11-18 21:33:14,256 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:33:15,540 - [ERROR] - root - (start.py).dice_game_button(684) - ‚ùå –û—à–∏–±–∫–∞ –≤ dice_game_button: No module named 'handlers.dice_game.utils'
2025-11-18 21:34:20,368 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:34:20,368 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:34:20,368 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:34:20,368 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:34:20,368 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:34:20,368 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:34:20,369 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:34:20,369 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:34:20,369 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:34:20,369 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:34:20,369 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:34:20,374 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:34:21,776 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:34:22,129 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:34:22,349 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:34:22,349 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:34:22,349 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:34:22,422 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:34:22,425 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:34:22,426 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:34:22,450 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:34:22,450 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:34:22,451 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:34:22,451 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:34:22,451 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:34:22,451 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:34:22,473 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,473 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,479 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,479 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:34:22,479 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,483 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:34:22,484 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:34:22,484 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,484 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:34:22,484 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:34:22,486 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,486 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,488 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,488 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,491 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,492 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:34:22,492 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,493 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,496 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,500 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,502 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,504 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:34:22,504 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:34:22,504 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:34:22,504 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,505 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:34:22,505 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,506 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:34:22,507 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,514 - [INFO] - root - (dice_game.py).register_dice_handlers(488) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (–¥–ª—è –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –≥—Ä—É–ø–ø)
2025-11-18 21:34:22,514 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:22,514 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:34:22,514 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:34:22,520 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:34:22,520 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:34:22,520 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:34:22,521 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:34:22,521 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:34:22,521 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:34:22,521 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:34:22,521 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:34:22,521 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:34:22,521 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 8737 —Å–µ–∫—É–Ω–¥ (2.4 —á–∞—Å–æ–≤)
2025-11-18 21:34:22,522 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:34:28,499 - [ERROR] - root - (start.py).dice_game_button(684) - ‚ùå –û—à–∏–±–∫–∞ –≤ dice_game_button: cannot import name 'DiceGameHandler' from 'handlers.dice_game' (C:\RouletteBotTelegram\handlers\dice_game\__init__.py)
2025-11-18 21:34:40,357 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:34:40,357 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:34:40,357 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:34:40,358 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:34:40,358 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:34:40,358 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:34:40,358 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:34:40,358 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:34:40,358 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:34:40,358 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:34:40,359 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:34:40,362 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:34:41,834 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:34:42,171 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:34:42,373 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:34:42,373 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:34:42,373 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:34:42,453 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:34:42,456 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:34:42,456 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:34:42,480 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:34:42,481 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:34:42,481 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:34:42,481 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:34:42,481 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:34:42,482 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:34:42,504 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,504 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,510 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,510 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:34:42,510 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,513 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:34:42,514 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:34:42,514 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,515 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:34:42,516 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:34:42,516 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,518 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,520 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,521 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,523 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,524 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:34:42,524 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,525 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,528 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,531 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,533 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,535 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:34:42,536 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:34:42,536 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:34:42,536 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,536 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:34:42,537 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,539 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:34:42,539 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,543 - [INFO] - root - (dice_game.py).register_dice_handlers(488) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (–¥–ª—è –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –≥—Ä—É–ø–ø)
2025-11-18 21:34:42,543 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:34:42,543 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:34:42,543 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:34:42,547 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:34:42,547 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:34:42,547 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:34:42,548 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:34:42,548 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:34:42,548 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:34:42,548 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:34:42,548 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:34:42,548 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:34:42,548 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 8717 —Å–µ–∫—É–Ω–¥ (2.4 —á–∞—Å–æ–≤)
2025-11-18 21:34:42,548 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:34:46,362 - [ERROR] - root - (start.py).dice_game_button(684) - ‚ùå –û—à–∏–±–∫–∞ –≤ dice_game_button: cannot import name 'DiceGameHandler' from 'handlers.dice_game' (C:\RouletteBotTelegram\handlers\dice_game\__init__.py)
2025-11-18 21:35:40,026 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:35:40,026 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:35:40,026 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:35:40,026 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:35:40,026 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:35:40,026 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:35:40,027 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:35:40,027 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:35:40,027 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:35:40,027 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:35:40,027 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:35:40,031 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:35:41,112 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:35:41,450 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:35:41,662 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:35:41,662 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:35:41,662 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:35:41,737 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:35:41,739 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:35:41,739 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:35:41,768 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:35:41,769 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:35:41,769 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:35:41,769 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:35:41,769 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:35:41,769 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:35:41,792 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,792 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,796 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,797 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:35:41,797 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,800 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:35:41,801 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:35:41,802 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,803 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:35:41,803 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:35:41,803 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,804 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,807 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,808 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,811 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,811 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:35:41,811 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,813 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,814 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,818 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,820 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,822 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:35:41,822 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:35:41,822 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:35:41,823 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,824 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:35:41,824 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,826 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:35:41,826 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,832 - [INFO] - root - (dice_game.py).register_dice_handlers(488) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (–¥–ª—è –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –≥—Ä—É–ø–ø)
2025-11-18 21:35:41,832 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:35:41,833 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:35:41,833 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:35:41,837 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:35:41,837 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:35:41,838 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:35:41,838 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:35:41,838 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:35:41,838 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:35:41,838 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:35:41,838 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:35:41,838 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:35:41,838 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 8658 —Å–µ–∫—É–Ω–¥ (2.4 —á–∞—Å–æ–≤)
2025-11-18 21:35:41,839 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:35:42,274 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–≤ —à–∫–æ–ª–µ —Ç—É–ø–∏—Ç'
2025-11-18 21:35:47,839 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–≤ –ø–æ–¥–≤–∞–ª–µ –∫—É—Ä–∏—Ç'
2025-11-18 21:36:23,561 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–¥–∞–Ω–∏–ª–∞ —Ä—É–ª–∏—Ç'
2025-11-18 21:36:59,015 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫—É–±–∏–∫'
2025-11-18 21:40:20,974 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:40:20,975 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:40:20,975 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:40:20,975 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:40:20,975 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:40:20,975 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:40:20,975 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:40:20,975 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:40:20,975 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:40:20,975 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:40:20,976 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:40:20,979 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:40:22,377 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:40:22,847 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:40:23,086 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:40:23,086 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:40:23,086 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:40:23,161 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:40:23,163 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:40:23,164 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:40:23,190 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:40:23,191 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:40:23,191 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:40:23,191 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:40:23,191 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:40:23,191 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:40:23,218 - [INFO] - root - (start.py).register_start_handler(761) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,218 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,223 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,223 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:40:23,223 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,228 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:40:23,228 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:40:23,230 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,231 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:40:23,231 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:40:23,231 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,231 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,234 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,234 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,236 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,237 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:40:23,237 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,239 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,241 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,243 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,246 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,248 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:40:23,249 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:40:23,249 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:40:23,249 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,250 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:40:23,250 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,252 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:40:23,252 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,259 - [INFO] - root - (dice_game.py).register_dice_handlers(397) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:40:23,259 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:23,259 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:40:23,259 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:40:23,263 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:40:23,264 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:40:23,264 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:40:23,265 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:40:23,265 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:40:23,265 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:40:23,265 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:40:23,265 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:40:23,265 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:40:23,265 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 8377 —Å–µ–∫—É–Ω–¥ (2.3 —á–∞—Å–æ–≤)
2025-11-18 21:40:23,265 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:40:53,729 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:40:53,729 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:40:53,729 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:40:53,729 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:40:53,729 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:40:53,729 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:40:53,730 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:40:53,730 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:40:53,730 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:40:53,730 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:40:53,730 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:40:53,735 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:40:55,243 - [INFO] - __main__ - (main.py).main(316) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:40:55,598 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:40:55,812 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:40:55,812 - [INFO] - __main__ - (main.py).on_startup(225) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:40:55,812 - [INFO] - __main__ - (main.py).on_startup(228) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:40:55,999 - [INFO] - __main__ - (main.py).setup_database(89) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:40:56,002 - [INFO] - __main__ - (main.py).setup_database(96) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:40:56,002 - [INFO] - __main__ - (main.py).on_startup(232) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:40:56,026 - [INFO] - __main__ - (main.py).cleanup_old_limits(121) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:40:56,027 - [INFO] - __main__ - (main.py).setup_middleware_first(137) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:40:56,027 - [INFO] - __main__ - (main.py).setup_middleware_first(141) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:40:56,028 - [INFO] - __main__ - (main.py).setup_middleware_first(149) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-18 21:40:56,028 - [INFO] - __main__ - (main.py).on_startup(240) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:40:56,028 - [INFO] - __main__ - (main.py).register_all_handlers(160) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:40:56,056 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,056 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,062 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,062 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:40:56,062 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,066 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:40:56,067 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:40:56,067 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,068 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:40:56,069 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:40:56,069 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,069 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,073 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,074 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,075 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,076 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:40:56,076 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,078 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,080 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,083 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,084 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,086 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:40:56,086 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:40:56,087 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:40:56,087 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,087 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:40:56,087 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,092 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:40:56,092 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,094 - [INFO] - root - (dice_game.py).register_dice_handlers(397) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:40:56,094 - [INFO] - __main__ - (main.py).register_all_handlers(177) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:40:56,094 - [INFO] - __main__ - (main.py).register_all_handlers(184) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:40:56,094 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:40:56,100 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:40:56,100 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(193) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:40:56,100 - [INFO] - __main__ - (main.py).on_startup(251) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:40:56,100 - [INFO] - __main__ - (main.py).start_cleanup_tasks(207) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:40:56,101 - [INFO] - __main__ - (main.py).start_cleanup_tasks(212) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:40:56,101 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:40:56,101 - [INFO] - __main__ - (main.py).start_cleanup_tasks(216) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:40:56,101 - [INFO] - __main__ - (main.py).on_startup(254) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:40:56,101 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:40:56,101 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 8344 —Å–µ–∫—É–Ω–¥ (2.3 —á–∞—Å–æ–≤)
2025-11-18 21:40:56,101 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:42:04,561 - [INFO] - handlers.admin.main_admin_handler - (main_admin_handler.py).remove_transfer_limit(978) - Admin 1054684037 removed transfer limit for user 1054684037
2025-11-18 21:42:04,564 - [WARNING] - handlers.admin.admin_notifications - (admin_notifications.py).send_admin_action_notification(97) - Photo not found. Available files in C:\RouletteBotTelegram\handlers\media: []
2025-11-18 21:42:04,564 - [WARNING] - handlers.admin.admin_notifications - (admin_notifications.py).send_admin_action_notification(100) - Photo file not found: No suitable photo file found, falling back to text message
2025-11-18 21:43:38,856 - [INFO] - __main__ - (main.py).signal_handler(308) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:43:38,856 - [INFO] - __main__ - (main.py).on_shutdown(259) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:43:38,856 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:43:38,856 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:43:38,856 - [INFO] - __main__ - (main.py).on_shutdown(267) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:43:38,856 - [INFO] - __main__ - (main.py).on_shutdown(276) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:43:38,857 - [INFO] - __main__ - (main.py).on_shutdown(284) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:43:38,857 - [INFO] - __main__ - (main.py).on_shutdown(292) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:43:38,857 - [INFO] - __main__ - (main.py).on_shutdown(299) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:43:38,857 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:43:38,857 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:43:38,861 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:43:40,127 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:43:40,442 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:43:40,642 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:43:40,642 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:43:40,644 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:43:40,825 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:43:40,829 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:43:40,829 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:43:40,855 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:43:40,856 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:43:40,856 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:43:40,856 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:43:40,856 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:43:40,856 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:43:40,887 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,888 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,892 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,892 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:43:40,892 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,896 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:43:40,897 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:43:40,897 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,899 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:43:40,899 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:43:40,899 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,901 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,904 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,905 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,907 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,908 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:43:40,908 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,910 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,912 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,915 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,920 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,922 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:43:40,922 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:43:40,922 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:43:40,922 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,923 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:43:40,923 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,926 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:43:40,926 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,930 - [INFO] - root - (dice_game.py).register_dice_handlers(397) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:43:40,930 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:43:40,930 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:43:40,930 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:43:40,935 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:43:40,936 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:43:40,936 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:43:40,936 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:43:40,936 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:43:40,936 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:43:40,937 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:43:40,937 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:43:40,937 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:43:40,937 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 8179 —Å–µ–∫—É–Ω–¥ (2.3 —á–∞—Å–æ–≤)
2025-11-18 21:43:40,937 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:44:16,674 - [INFO] - __main__ - (main.py).signal_handler(309) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:44:16,674 - [INFO] - __main__ - (main.py).on_shutdown(260) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:44:16,675 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:44:16,675 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:44:16,675 - [INFO] - __main__ - (main.py).on_shutdown(268) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:44:16,675 - [INFO] - __main__ - (main.py).on_shutdown(277) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:44:16,675 - [INFO] - __main__ - (main.py).on_shutdown(285) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:44:16,675 - [INFO] - __main__ - (main.py).on_shutdown(293) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:44:16,675 - [INFO] - __main__ - (main.py).on_shutdown(300) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:44:16,675 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:44:16,676 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:44:16,680 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:44:18,365 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:44:18,688 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:44:18,896 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:44:18,896 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:44:18,896 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:44:18,973 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:44:18,981 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:44:18,981 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:44:19,004 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:44:19,004 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:44:19,004 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:44:19,005 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:44:19,005 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:44:19,005 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:44:19,030 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,030 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,034 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,035 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:44:19,035 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,038 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:44:19,039 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:44:19,039 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,040 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:44:19,040 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:44:19,040 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,042 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,044 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,044 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,046 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,047 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:44:19,047 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,050 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,052 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,054 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,057 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,058 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:44:19,058 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-18 21:44:19,058 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:44:19,058 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,061 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:44:19,061 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,067 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:44:19,067 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,071 - [INFO] - root - (dice_game.py).register_dice_handlers(397) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:44:19,071 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:44:19,071 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:44:19,071 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:44:19,074 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:44:19,075 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:44:19,075 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:44:19,075 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:44:19,075 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:44:19,075 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:44:19,075 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:44:19,075 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:44:19,075 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:44:19,076 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 8141 —Å–µ–∫—É–Ω–¥ (2.3 —á–∞—Å–æ–≤)
2025-11-18 21:44:19,076 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:50:35,891 - [INFO] - __main__ - (main.py).signal_handler(309) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:50:35,891 - [INFO] - __main__ - (main.py).on_shutdown(260) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:50:35,891 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:50:35,891 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:50:35,891 - [INFO] - __main__ - (main.py).on_shutdown(268) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:50:35,891 - [INFO] - __main__ - (main.py).on_shutdown(277) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:50:35,892 - [INFO] - __main__ - (main.py).on_shutdown(285) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:50:35,892 - [INFO] - __main__ - (main.py).on_shutdown(293) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:50:35,892 - [INFO] - __main__ - (main.py).on_shutdown(300) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:50:35,892 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:50:35,892 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:50:35,899 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:50:37,471 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:50:37,805 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:50:38,008 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:50:38,008 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:50:38,008 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:50:38,086 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:50:38,088 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:50:38,089 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:50:38,114 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:50:38,115 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:50:38,115 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:50:38,115 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:50:38,115 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:50:38,115 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:50:38,139 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,140 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,146 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,146 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:50:38,146 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,149 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:50:38,150 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:50:38,150 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,151 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:50:38,151 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:50:38,151 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,152 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,153 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,155 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,157 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,159 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:50:38,159 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,161 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,162 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,166 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,168 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,177 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:50:38,177 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 20 –∫–æ–º–∞–Ω–¥
2025-11-18 21:50:38,177 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:50:38,177 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,179 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:50:38,179 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,181 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:50:38,181 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,187 - [INFO] - root - (dice_game.py).register_dice_handlers(399) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:50:38,187 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:38,187 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:50:38,187 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:50:38,192 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:50:38,193 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:50:38,193 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:50:38,194 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:50:38,194 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:50:38,194 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:50:38,194 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:50:38,194 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:50:38,194 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:50:38,194 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7762 —Å–µ–∫—É–Ω–¥ (2.2 —á–∞—Å–æ–≤)
2025-11-18 21:50:38,194 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:50:55,565 - [INFO] - __main__ - (main.py).signal_handler(309) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:50:55,565 - [INFO] - __main__ - (main.py).on_shutdown(260) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:50:55,565 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:50:55,565 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:50:55,565 - [INFO] - __main__ - (main.py).on_shutdown(268) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:50:55,565 - [INFO] - __main__ - (main.py).on_shutdown(277) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:50:55,565 - [INFO] - __main__ - (main.py).on_shutdown(285) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:50:55,565 - [INFO] - __main__ - (main.py).on_shutdown(293) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:50:55,565 - [INFO] - __main__ - (main.py).on_shutdown(300) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:50:55,565 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:50:55,566 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:50:55,569 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:50:56,903 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:50:57,228 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:50:57,436 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:50:57,436 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:50:57,436 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:50:57,616 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:50:57,618 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:50:57,618 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:50:57,643 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:50:57,643 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:50:57,643 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:50:57,643 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:50:57,643 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:50:57,643 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:50:57,672 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,672 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,677 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,677 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:50:57,677 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,681 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:50:57,681 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:50:57,683 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,684 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:50:57,684 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:50:57,684 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,685 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,687 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,688 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,691 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,692 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:50:57,692 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,695 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,696 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,699 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,709 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,712 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:50:57,712 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 20 –∫–æ–º–∞–Ω–¥
2025-11-18 21:50:57,712 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:50:57,712 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,714 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:50:57,714 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,717 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:50:57,717 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,725 - [INFO] - root - (dice_game.py).register_dice_handlers(397) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:50:57,725 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:50:57,725 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:50:57,725 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:50:57,731 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:50:57,732 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:50:57,732 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:50:57,732 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:50:57,732 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:50:57,732 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:50:57,732 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:50:57,732 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:50:57,733 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:50:57,733 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7742 —Å–µ–∫—É–Ω–¥ (2.2 —á–∞—Å–æ–≤)
2025-11-18 21:50:57,733 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:51:39,826 - [INFO] - handlers.chat_handlers - (chat_handlers.py).handle_bot_added_to_chat(31) - ‚úÖ –ë–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ —á–∞—Ç: code (ID: -1002819613169, —Ç–∏–ø: supergroup)
2025-11-18 21:51:56,041 - [INFO] - __main__ - (main.py).signal_handler(309) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:51:56,041 - [INFO] - __main__ - (main.py).on_shutdown(260) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:51:56,041 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:51:56,041 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:51:56,041 - [INFO] - __main__ - (main.py).on_shutdown(268) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:51:56,041 - [INFO] - __main__ - (main.py).on_shutdown(277) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:51:56,041 - [INFO] - __main__ - (main.py).on_shutdown(285) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:51:56,041 - [INFO] - __main__ - (main.py).on_shutdown(293) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:51:56,041 - [INFO] - __main__ - (main.py).on_shutdown(300) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:51:56,041 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:51:56,043 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:51:56,046 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:51:57,698 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:51:58,103 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:51:58,719 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:51:58,719 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:51:58,719 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:51:58,798 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:51:58,800 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:51:58,801 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:51:58,824 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:51:58,825 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:51:58,825 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:51:58,826 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:51:58,826 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:51:58,826 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:51:58,844 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,844 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,848 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,848 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:51:58,848 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,851 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:51:58,852 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:51:58,854 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,855 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:51:58,855 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:51:58,855 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,857 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,859 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,860 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,862 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,862 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:51:58,862 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,864 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,865 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,868 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,870 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,873 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:51:58,873 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 20 –∫–æ–º–∞–Ω–¥
2025-11-18 21:51:58,873 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:51:58,873 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,874 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:51:58,874 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,875 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:51:58,875 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,877 - [INFO] - root - (dice_game.py).register_dice_handlers(397) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:51:58,877 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:51:58,877 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:51:58,877 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:51:58,881 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:51:58,881 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:51:58,881 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:51:58,881 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:51:58,881 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:51:58,881 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:51:58,881 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:51:58,883 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:51:58,883 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:51:58,883 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7681 —Å–µ–∫—É–Ω–¥ (2.1 —á–∞—Å–æ–≤)
2025-11-18 21:51:58,883 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:52:52,952 - [INFO] - __main__ - (main.py).signal_handler(309) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:52:52,952 - [INFO] - __main__ - (main.py).on_shutdown(260) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:52:52,952 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:52:52,952 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:52:52,952 - [INFO] - __main__ - (main.py).on_shutdown(268) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:52:52,952 - [INFO] - __main__ - (main.py).on_shutdown(277) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:52:52,953 - [INFO] - __main__ - (main.py).on_shutdown(285) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:52:52,953 - [INFO] - __main__ - (main.py).on_shutdown(293) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:52:52,953 - [INFO] - __main__ - (main.py).on_shutdown(300) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:52:52,953 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:52:52,953 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:52:52,957 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:52:54,268 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:52:54,605 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:52:54,824 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:52:54,825 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:52:54,825 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:52:54,906 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:52:54,909 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:52:54,909 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:52:54,935 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:52:54,935 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:52:54,936 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:52:54,936 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:52:54,936 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:52:54,936 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:52:54,959 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,959 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,963 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,964 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:52:54,964 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,968 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:52:54,969 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:52:54,969 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,970 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:52:54,970 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:52:54,970 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,971 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,974 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,975 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,977 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,978 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:52:54,978 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,980 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,981 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,984 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,987 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,988 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:52:54,989 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 20 –∫–æ–º–∞–Ω–¥
2025-11-18 21:52:54,989 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:52:54,989 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,990 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:52:54,990 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,991 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:52:54,991 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,998 - [INFO] - root - (dice_game.py).register_dice_handlers(407) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:52:54,999 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:52:54,999 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:52:54,999 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:52:55,003 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:52:55,004 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:52:55,004 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:52:55,004 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:52:55,004 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:52:55,004 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:52:55,004 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:52:55,005 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:52:55,005 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:52:55,005 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7625 —Å–µ–∫—É–Ω–¥ (2.1 —á–∞—Å–æ–≤)
2025-11-18 21:52:55,005 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:54:22,472 - [INFO] - __main__ - (main.py).signal_handler(309) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:54:22,472 - [INFO] - __main__ - (main.py).on_shutdown(260) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:54:22,472 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:54:22,472 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:22,472 - [INFO] - __main__ - (main.py).on_shutdown(268) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:22,472 - [INFO] - __main__ - (main.py).on_shutdown(277) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:54:22,472 - [INFO] - __main__ - (main.py).on_shutdown(285) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:54:22,472 - [INFO] - __main__ - (main.py).on_shutdown(293) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:54:22,472 - [INFO] - __main__ - (main.py).on_shutdown(300) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:22,472 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:54:22,472 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:54:22,478 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:54:24,090 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:54:24,421 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:54:24,632 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:54:24,632 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:54:24,632 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:54:24,711 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:54:24,713 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:54:24,714 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:54:24,736 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:54:24,737 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:54:24,737 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:54:24,737 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:54:24,737 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:54:24,737 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:54:24,760 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,760 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,765 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,766 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:54:24,766 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,770 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:54:24,770 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:54:24,770 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,772 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:54:24,772 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:54:24,772 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,775 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,776 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,778 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,779 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,780 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:54:24,780 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,781 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,783 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,786 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,789 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,790 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:54:24,790 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 20 –∫–æ–º–∞–Ω–¥
2025-11-18 21:54:24,790 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:54:24,790 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,792 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:54:24,792 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,794 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:54:24,794 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,800 - [INFO] - root - (dice_game.py).register_dice_handlers(410) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:54:24,801 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:24,801 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:54:24,801 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:54:24,804 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:54:24,804 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:54:24,804 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:54:24,804 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:54:24,805 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:54:24,805 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:54:24,805 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:54:24,805 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:54:24,805 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:54:24,805 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7535 —Å–µ–∫—É–Ω–¥ (2.1 —á–∞—Å–æ–≤)
2025-11-18 21:54:24,805 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:54:30,398 - [INFO] - __main__ - (main.py).signal_handler(309) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:54:30,399 - [INFO] - __main__ - (main.py).on_shutdown(260) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:54:30,399 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:54:30,399 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:30,399 - [INFO] - __main__ - (main.py).on_shutdown(268) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:30,399 - [INFO] - __main__ - (main.py).on_shutdown(277) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:54:30,399 - [INFO] - __main__ - (main.py).on_shutdown(285) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:54:30,399 - [INFO] - __main__ - (main.py).on_shutdown(293) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:54:30,399 - [INFO] - __main__ - (main.py).on_shutdown(300) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:30,399 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:54:30,400 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:54:30,403 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:54:31,856 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:54:32,188 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:54:32,695 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:54:32,695 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:54:32,695 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:54:32,878 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:54:32,881 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:54:32,881 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:54:32,900 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:54:32,902 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:54:32,902 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:54:32,902 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:54:32,902 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:54:32,902 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:54:32,925 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,925 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,929 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,929 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:54:32,929 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,932 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:54:32,932 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:54:32,932 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,934 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:54:32,934 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:54:32,934 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,935 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,936 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,937 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,939 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,941 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:54:32,941 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,942 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,944 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,948 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,952 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,954 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:54:32,954 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 20 –∫–æ–º–∞–Ω–¥
2025-11-18 21:54:32,954 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:54:32,954 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,957 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:54:32,957 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,960 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:54:32,960 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,966 - [INFO] - root - (dice_game.py).register_dice_handlers(399) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:54:32,967 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:32,967 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:54:32,967 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:54:32,972 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:54:32,972 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:54:32,972 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:54:32,973 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:54:32,973 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:54:32,973 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:54:32,973 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:54:32,973 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:54:32,973 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:54:32,973 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7527 —Å–µ–∫—É–Ω–¥ (2.1 —á–∞—Å–æ–≤)
2025-11-18 21:54:32,973 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:54:38,196 - [INFO] - __main__ - (main.py).signal_handler(309) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:54:38,197 - [INFO] - __main__ - (main.py).on_shutdown(260) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:54:38,197 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:54:38,197 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:38,197 - [INFO] - __main__ - (main.py).on_shutdown(268) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:38,197 - [INFO] - __main__ - (main.py).on_shutdown(277) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:54:38,197 - [INFO] - __main__ - (main.py).on_shutdown(285) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:54:38,197 - [INFO] - __main__ - (main.py).on_shutdown(293) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:54:38,197 - [INFO] - __main__ - (main.py).on_shutdown(300) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:38,197 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:54:38,198 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:54:38,202 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:54:39,519 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:54:39,880 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:54:40,093 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:54:40,093 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:54:40,093 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:54:40,167 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:54:40,171 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:54:40,171 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:54:40,196 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:54:40,197 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:54:40,197 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:54:40,197 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:54:40,197 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:54:40,197 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:54:40,221 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,222 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,227 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,228 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:54:40,228 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,232 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:54:40,233 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:54:40,233 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,234 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:54:40,234 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:54:40,235 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,235 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,237 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,238 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,240 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,241 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:54:40,241 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,243 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,245 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,248 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,251 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,253 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:54:40,254 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 20 –∫–æ–º–∞–Ω–¥
2025-11-18 21:54:40,254 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:54:40,254 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,255 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:54:40,255 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,257 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:54:40,257 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,264 - [INFO] - root - (dice_game.py).register_dice_handlers(409) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —á–∞—Ç–æ–≤
2025-11-18 21:54:40,265 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:54:40,265 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:54:40,265 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:54:40,269 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:54:40,270 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:54:40,270 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:54:40,270 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:54:40,270 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:54:40,270 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:54:40,271 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:54:40,271 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:54:40,271 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:54:40,271 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7520 —Å–µ–∫—É–Ω–¥ (2.1 —á–∞—Å–æ–≤)
2025-11-18 21:54:40,271 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:54:47,222 - [INFO] - __main__ - (main.py).signal_handler(309) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-18 21:54:47,223 - [INFO] - __main__ - (main.py).on_shutdown(260) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-18 21:54:47,223 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:54:47,223 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:47,223 - [INFO] - __main__ - (main.py).on_shutdown(268) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:47,223 - [INFO] - __main__ - (main.py).on_shutdown(277) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-18 21:54:47,223 - [INFO] - __main__ - (main.py).on_shutdown(285) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-18 21:54:47,223 - [INFO] - __main__ - (main.py).on_shutdown(293) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-18 21:54:47,223 - [INFO] - __main__ - (main.py).on_shutdown(300) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-18 21:54:47,224 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-18 21:54:47,224 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-18 21:54:47,229 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-18 21:55:18,136 - [INFO] - __main__ - (main.py).main(317) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-18 21:55:18,458 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-18 21:55:18,662 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-18 21:55:18,662 - [INFO] - __main__ - (main.py).on_startup(226) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-18 21:55:18,662 - [INFO] - __main__ - (main.py).on_startup(229) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:55:18,845 - [INFO] - __main__ - (main.py).setup_database(90) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-18 21:55:18,849 - [INFO] - __main__ - (main.py).setup_database(97) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-18 21:55:18,849 - [INFO] - __main__ - (main.py).on_startup(233) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:55:18,875 - [INFO] - __main__ - (main.py).cleanup_old_limits(122) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-18 21:55:18,876 - [INFO] - __main__ - (main.py).setup_middleware_first(138) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-18 21:55:18,876 - [INFO] - __main__ - (main.py).setup_middleware_first(142) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:55:18,876 - [INFO] - __main__ - (main.py).setup_middleware_first(150) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 17 –∫–æ–º–∞–Ω–¥
2025-11-18 21:55:18,876 - [INFO] - __main__ - (main.py).on_startup(241) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:55:18,876 - [INFO] - __main__ - (main.py).register_all_handlers(161) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-18 21:55:18,905 - [INFO] - root - (start.py).register_start_handler(760) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,905 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,909 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,909 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:55:18,909 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,912 - [INFO] - handlers.donate.bonus - (bonus.py)._init_bonus_table(40) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-18 21:55:18,912 - [INFO] - root - (handlers.py).register_donate_handlers(450) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-18 21:55:18,912 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,913 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-18 21:55:18,914 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-18 21:55:18,914 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,914 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,916 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,918 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,920 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,921 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-18 21:55:18,921 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,923 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,924 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,927 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,930 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,937 - [INFO] - root - (dice_game.py).register_dice_handlers(399) - ‚úÖ –ò–≥—Ä–∞ '–ö—É–±–∏–∫' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
2025-11-18 21:55:18,938 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ dice_game –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,939 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-18 21:55:18,939 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 20 –∫–æ–º–∞–Ω–¥
2025-11-18 21:55:18,939 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-18 21:55:18,939 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,940 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-18 21:55:18,940 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,943 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-18 21:55:18,943 - [INFO] - __main__ - (main.py).register_all_handlers(178) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-18 21:55:18,943 - [INFO] - __main__ - (main.py).register_all_handlers(185) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 18
2025-11-18 21:55:18,943 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-18 21:55:18,946 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-18 21:55:18,946 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(194) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-18 21:55:18,946 - [INFO] - __main__ - (main.py).on_startup(252) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-18 21:55:18,947 - [INFO] - __main__ - (main.py).start_cleanup_tasks(208) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:55:18,947 - [INFO] - __main__ - (main.py).start_cleanup_tasks(213) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-18 21:55:18,947 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-18 21:55:18,947 - [INFO] - __main__ - (main.py).start_cleanup_tasks(217) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-18 21:55:18,947 - [INFO] - __main__ - (main.py).on_startup(255) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:55:18,947 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-18 21:55:18,947 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 7481 —Å–µ–∫—É–Ω–¥ (2.1 —á–∞—Å–æ–≤)
2025-11-18 21:55:18,947 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-18 21:55:22,888 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).bot_search(165) - üîç –ü–æ–ª—É—á–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∏—Å–∫–∞ –æ—Ç 1054684037: –±–æ—Ç –∏—â–∏
2025-11-18 21:55:22,888 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py)._parse_search_target(265) - üîç –¢–µ–∫—Å—Ç –∫–æ–º–∞–Ω–¥—ã: –±–æ—Ç –∏—â–∏
2025-11-18 21:55:22,888 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py)._parse_search_target(316) - ‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ü–µ–ª—å –ø–æ–∏—Å–∫–∞
2025-11-18 21:55:35,205 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).safe_delete(41) - ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ: 20248
