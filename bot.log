2025-11-16 22:09:02,087 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:09:03,418 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:09:03,627 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:09:03,627 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:09:03,627 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:09:03,806 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:09:03,809 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:09:03,810 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:09:03,827 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:09:03,829 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:09:03,837 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'RouletteHandler' from 'handlers.roulette' (C:\RouletteBotTelegram\handlers\roulette\__init__.py)
2025-11-16 22:09:03,839 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,840 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:09:03,840 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,846 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:09:03,847 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:09:03,848 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,851 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:09:03,851 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:09:03,851 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,854 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,857 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,859 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,861 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,861 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:09:03,861 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,865 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,865 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ roulette: module 'handlers.roulette' has no attribute 'register_roulette_handlers'
2025-11-16 22:09:03,870 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,875 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,877 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:09:03,877 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:09:03,877 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:09:03,877 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,880 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:09:03,880 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,881 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:09:03,881 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:09:03,881 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 15
2025-11-16 22:09:03,881 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:09:03,887 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:09:03,887 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:09:03,887 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:09:03,888 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:09:03,888 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:09:03,888 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:09:03,888 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:09:03,888 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:09:03,888 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:09:03,888 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 6656 —Å–µ–∫—É–Ω–¥ (1.8 —á–∞—Å–æ–≤)
2025-11-16 22:09:03,888 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:09:21,341 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:09:21,341 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:09:21,341 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:09:21,341 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:09:21,341 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:09:21,341 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:09:21,342 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:09:21,342 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:09:21,342 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:09:21,342 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:09:21,342 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:09:21,351 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:24:44,819 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:24:45,162 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:24:45,378 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:24:45,378 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:24:45,378 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:24:45,455 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:24:45,456 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:24:45,456 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:24:45,475 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:24:45,476 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:24:45,499 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ start: cannot import name 'Bet' from 'database.models' (C:\RouletteBotTelegram\database\models.py)
2025-11-16 22:24:45,501 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,502 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:24:45,502 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,505 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:24:45,506 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:24:45,506 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,511 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:24:45,511 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:24:45,511 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,513 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,514 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,515 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,516 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,517 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:24:45,517 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,519 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,521 - [ERROR] - __main__ - (main.py).register_all_handlers(179) - ‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ roulette: cannot import name 'Bet' from 'database.models' (C:\RouletteBotTelegram\database\models.py)
2025-11-16 22:24:45,524 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,526 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,527 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:24:45,527 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:24:45,527 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:24:45,527 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,528 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:24:45,528 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,530 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:24:45,530 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:24:45,530 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 15
2025-11-16 22:24:45,530 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:24:45,535 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:24:45,535 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:24:45,535 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:24:45,536 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:24:45,536 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 5714 —Å–µ–∫—É–Ω–¥ (1.6 —á–∞—Å–æ–≤)
2025-11-16 22:24:45,536 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:24:51,889 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:24:51,890 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:24:51,890 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:24:51,890 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:24:51,891 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:24:51,891 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:24:51,891 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:24:51,896 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:28:29,590 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:28:29,917 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:28:30,123 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:28:30,123 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:28:30,123 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:28:30,305 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:28:30,307 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:28:30,307 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:28:30,336 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:28:30,338 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:28:30,380 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,380 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,384 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,384 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:28:30,385 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,389 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:28:30,390 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:28:30,390 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,391 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:28:30,392 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:28:30,392 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,392 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,394 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,395 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,397 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,398 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:28:30,398 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,400 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,401 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,404 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,408 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,410 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:28:30,410 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:28:30,410 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:28:30,410 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,411 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:28:30,411 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,413 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:28:30,413 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:28:30,413 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:28:30,413 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:28:30,417 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:28:30,418 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:28:30,418 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:28:30,418 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:28:30,418 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 5490 —Å–µ–∫—É–Ω–¥ (1.5 —á–∞—Å–æ–≤)
2025-11-16 22:28:30,418 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:28:34,197 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=NameError("name 'chat_id' is not defined")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\admin\mute_ban.py", line 45, in _is_user_admin
    if chat_id:
       ^^^^^^^
NameError: name 'chat_id' is not defined
2025-11-16 22:28:40,773 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:28:40,773 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:28:40,773 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:28:40,773 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:28:40,773 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:28:40,773 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:28:40,776 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:28:40,776 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:28:40,776 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:28:40,776 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:28:40,776 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:28:40,779 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:31:46,122 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:31:46,451 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:31:46,660 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:31:46,660 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:31:46,660 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:31:46,734 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:31:46,735 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:31:46,735 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:31:46,763 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:31:46,781 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,781 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,786 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,786 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:31:46,786 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,789 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:31:46,790 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:31:46,790 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,792 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:31:46,792 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:31:46,792 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,793 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,795 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,795 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,797 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,798 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:31:46,798 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,800 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,801 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,805 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,807 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,808 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:31:46,808 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:31:46,808 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:31:46,809 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,809 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:31:46,809 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,811 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:31:46,811 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:31:46,811 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:31:46,811 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:31:46,814 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:31:46,814 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:31:46,816 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:31:46,816 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:31:46,816 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:31:46,816 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 5293 —Å–µ–∫—É–Ω–¥ (1.5 —á–∞—Å–æ–≤)
2025-11-16 22:31:46,816 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:31:51,129 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=TypeError('MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given
2025-11-16 22:31:55,120 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:31:55,120 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:31:55,120 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:31:55,120 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:31:55,120 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:31:55,120 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:31:55,122 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:31:55,122 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:31:55,122 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:31:55,122 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:31:55,123 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:31:55,125 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:40:16,027 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:40:16,366 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:40:16,587 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:40:16,587 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:40:16,587 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:40:16,665 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:40:16,666 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:40:16,666 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:40:16,686 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:40:16,687 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:40:16,703 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,704 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,707 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,708 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:40:16,708 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,712 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:40:16,712 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:40:16,712 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,714 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:40:16,714 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:40:16,714 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,715 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,717 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,718 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,719 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,719 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:40:16,720 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,722 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,723 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,725 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,727 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,729 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:40:16,729 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:40:16,729 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:40:16,729 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,730 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:40:16,730 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,731 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:40:16,731 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:40:16,731 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:40:16,731 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:40:16,734 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:40:16,734 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:40:16,734 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:40:16,735 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:40:16,735 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:40:16,735 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:40:16,735 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:40:16,735 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:40:16,735 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:40:16,735 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 4783 —Å–µ–∫—É–Ω–¥ (1.3 —á–∞—Å–æ–≤)
2025-11-16 22:40:16,735 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:40:21,160 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=ProgrammingError('(psycopg2.errors.UndefinedColumn) –û–®–ò–ë–ö–ê:  —Å—Ç–æ–ª–±–µ—Ü telegram_users.robberies_today –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç\nLINE 1: ...legram_users.is_admin AS telegram_users_is_admin, telegram_u...\n                                                             ^\n')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: –û–®–ò–ë–ö–ê:  —Å—Ç–æ–ª–±–µ—Ü telegram_users.robberies_today –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
LINE 1: ...legram_users.is_admin AS telegram_users_is_admin, telegram_u...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "C:\RouletteBotTelegram\handlers\roulette\validators.py", line 49, in db_session
    yield db
  File "C:\RouletteBotTelegram\handlers\roulette\handlers.py", line 148, in show_balance
    user = UserRepository.get_user_by_telegram_id(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\database\crud.py", line 62, in get_user_by_telegram_id
    return db.query(models.TelegramUser).filter(models.TelegramUser.telegram_id == telegram_id).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) –û–®–ò–ë–ö–ê:  —Å—Ç–æ–ª–±–µ—Ü telegram_users.robberies_today –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
LINE 1: ...legram_users.is_admin AS telegram_users_is_admin, telegram_u...
                                                             ^

[SQL: SELECT telegram_users.id AS telegram_users_id, telegram_users.telegram_id AS telegram_users_telegram_id, telegram_users.username AS telegram_users_username, telegram_users.first_name AS telegram_users_first_name, telegram_users.last_name AS telegram_users_last_name, telegram_users.reference_link AS telegram_users_reference_link, telegram_users.coins AS telegram_users_coins, telegram_users.win_coins AS telegram_users_win_coins, telegram_users.defeat_coins AS telegram_users_defeat_coins, telegram_users.max_win_coins AS telegram_users_max_win_coins, telegram_users.min_win_coins AS telegram_users_min_win_coins, telegram_users.max_bet AS telegram_users_max_bet, telegram_users.is_admin AS telegram_users_is_admin, telegram_users.robberies_today AS telegram_users_robberies_today, telegram_users.last_robbery_reset AS telegram_users_last_robbery_reset, telegram_users.action AS telegram_users_action, telegram_users.duration_minutes AS telegram_users_duration_minutes 
FROM telegram_users 
WHERE telegram_users.telegram_id = %(telegram_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'telegram_id_1': 7326913977, 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-11-16 22:40:23,899 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:40:23,899 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:40:23,900 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:40:23,900 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:40:23,900 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:40:23,900 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:40:23,900 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:40:23,901 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:40:23,901 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:40:23,901 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:40:23,901 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:40:23,904 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:43:51,442 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:43:51,793 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:43:52,010 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:43:52,010 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:43:52,010 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:43:52,089 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:43:52,091 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:43:52,091 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:43:52,120 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:43:52,122 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:43:52,144 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,144 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,149 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,150 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:43:52,150 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,153 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:43:52,154 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:43:52,154 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,155 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:43:52,155 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:43:52,156 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,157 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,160 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,161 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,163 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,164 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:43:52,164 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,165 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,167 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,170 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,172 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,174 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:43:52,174 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:43:52,175 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:43:52,175 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,175 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:43:52,175 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,178 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:43:52,178 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:43:52,178 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:43:52,179 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:43:52,183 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:43:52,184 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:43:52,184 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:43:52,185 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:43:52,185 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:43:52,185 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:43:52,185 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:43:52,185 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:43:52,185 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:43:52,185 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 4568 —Å–µ–∫—É–Ω–¥ (1.3 —á–∞—Å–æ–≤)
2025-11-16 22:43:52,185 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:44:06,199 - [INFO] - handlers.roulette_logs - (roulette_logs.py).add_game_log(37) - –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ —Ä—É–ª–µ—Ç–∫–∏ –¥–ª—è —á–∞—Ç–∞ -1003110392320: 2‚ö´
2025-11-16 22:44:07,243 - [INFO] - main - (validators.py).update_users_batch(75) - ‚úÖ –ü–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:44:10,326 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:44:10,326 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:44:10,326 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:44:10,327 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:44:10,327 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:44:10,327 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:44:10,328 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:44:10,332 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:49:08,290 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:49:08,612 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:49:08,817 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:49:08,817 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:49:08,817 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:49:08,886 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:49:08,887 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:49:08,887 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:49:08,906 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:49:08,907 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:49:08,908 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:49:08,908 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:49:08,908 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:49:08,908 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:49:08,928 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,928 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,933 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,933 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:49:08,933 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,936 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:49:08,937 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:49:08,938 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,939 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:49:08,939 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:49:08,939 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,941 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,943 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,944 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,946 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,947 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:49:08,947 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,948 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,949 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,953 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,955 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,957 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:49:08,957 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:49:08,957 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:49:08,957 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,958 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:49:08,958 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,959 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:49:08,959 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:49:08,959 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:49:08,959 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:49:08,965 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:49:08,965 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:49:08,965 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:49:08,965 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:49:08,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 4251 —Å–µ–∫—É–Ω–¥ (1.2 —á–∞—Å–æ–≤)
2025-11-16 22:49:08,966 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:52:02,715 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '—Ç—ã –ø–æ—Ö–æ–¥—É —á–µ—Ç —É–¥–∞–ª–∏–ª –∏ –ø–æ –Ω–æ–≤–æ–π –¥–æ–±–∞–≤–∏–ª'
2025-11-16 22:54:09,020 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-92' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=IndexError('list index out of range')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 108, in notify
    data.update(await check_filters(handler_obj.filters, args))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\filters\filters.py", line 77, in check_filters
    f = await execute_filter(filter_, args)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\filters\filters.py", line 63, in execute_filter
    return filter_.filter(*args, **filter_.kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\thief\handlers.py", line 16, in is_rob_cmd
    return normalize_cmd(msg.text) in ["—É–∫—Ä–∞—Å—Ç—å", "–æ–≥—Ä–∞–±–∏—Ç—å", "–≤–æ—Ä—É–π"]
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\thief\handlers.py", line 12, in normalize_cmd
    return text.strip().lower().split()[0]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range
2025-11-16 22:54:13,809 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 22:54:13,809 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 22:54:13,809 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:54:13,809 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:54:13,809 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:54:13,810 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 22:54:13,810 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 22:54:13,810 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 22:54:13,810 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 22:54:13,810 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 22:54:13,810 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 22:54:13,814 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 22:57:21,997 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 22:57:22,314 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 22:57:22,518 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 22:57:22,519 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 22:57:22,519 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:57:22,592 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 22:57:22,592 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 22:57:22,593 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:57:22,615 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:57:22,616 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 22:57:22,633 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,633 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,638 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,638 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:57:22,638 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,641 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 22:57:22,642 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 22:57:22,642 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,643 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 22:57:22,643 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 22:57:22,643 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,644 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,646 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,646 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,649 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,649 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 22:57:22,649 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,650 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,653 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,658 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,661 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,663 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 22:57:22,663 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 22:57:22,663 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 22:57:22,663 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,664 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 22:57:22,664 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,666 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 22:57:22,666 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 22:57:22,666 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 22:57:22,666 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 22:57:22,670 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 22:57:22,671 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 22:57:22,671 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:57:22,671 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 22:57:22,671 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 3757 —Å–µ–∫—É–Ω–¥ (1.0 —á–∞—Å–æ–≤)
2025-11-16 22:57:22,673 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 22:59:03,367 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-17' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:04:08,249 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:04:08,249 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:04:08,249 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:04:08,249 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:04:08,251 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:04:08,253 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:04:09,505 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:04:09,850 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:04:10,063 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:04:10,064 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:04:10,064 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:04:10,131 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:04:10,131 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:04:10,132 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:04:10,151 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:04:10,151 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:04:10,152 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:04:10,152 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:04:10,152 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:04:10,152 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:04:10,170 - [INFO] - root - (start.py).register_start_handler(778) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,170 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,176 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,176 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:04:10,176 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,179 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:04:10,181 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:04:10,181 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,182 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:04:10,182 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:04:10,182 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,183 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,185 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,186 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,188 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,189 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:04:10,189 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,192 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,193 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,196 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,200 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,202 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:04:10,202 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:04:10,203 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:04:10,203 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,205 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:04:10,205 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,207 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:04:10,207 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:04:10,207 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:04:10,207 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:04:10,211 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:04:10,212 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(215) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:04:10,212 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:04:10,213 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:04:10,213 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 3350 —Å–µ–∫—É–Ω–¥ (0.9 —á–∞—Å–æ–≤)
2025-11-16 23:04:10,213 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:13:11,247 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 6090751674, text: '—Å–¥–µ–ª–∞–ª'
2025-11-16 23:13:15,845 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:13:15,845 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:13:15,846 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:13:15,846 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:13:15,846 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:15,846 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:13:15,848 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:13:15,853 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:13:17,474 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:13:17,791 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:13:17,994 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:13:17,994 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:13:17,994 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:18,182 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:13:18,184 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:13:18,184 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:18,216 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:13:18,218 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:13:18,244 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,244 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,248 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,248 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:13:18,249 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,252 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:13:18,253 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:13:18,253 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,255 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:13:18,255 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:13:18,255 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,256 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,258 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,259 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,261 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,262 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:13:18,262 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,265 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,267 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,269 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,272 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:13:18,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:13:18,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:13:18,274 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,276 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:13:18,276 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,277 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:13:18,277 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:18,277 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:13:18,277 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:18,283 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:13:18,283 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:13:18,283 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:13:18,284 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:18,284 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:13:18,284 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(215) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:13:18,284 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:13:18,284 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:18,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:18,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2802 —Å–µ–∫—É–Ω–¥ (0.8 —á–∞—Å–æ–≤)
2025-11-16 23:13:18,284 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:13:27,292 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '–≤ –æ—Å–Ω–æ–≤–µ –∏–ª–∏ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º'
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:13:34,494 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:13:34,494 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:13:34,494 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:13:34,495 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:13:34,495 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:13:34,495 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:13:34,499 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:13:35,911 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:13:36,223 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:13:36,430 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:13:36,430 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:13:36,430 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:36,506 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:13:36,506 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:13:36,506 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:36,535 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:13:36,536 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:13:36,558 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,559 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,564 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,564 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:13:36,564 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,568 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:13:36,569 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:13:36,569 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,570 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:13:36,570 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:13:36,570 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,572 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,574 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,575 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,576 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,578 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:13:36,578 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,580 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,582 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,585 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,587 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,589 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:13:36,589 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:13:36,589 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:13:36,589 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,591 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:13:36,591 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,592 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:13:36,593 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:13:36,593 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:13:36,593 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:13:36,597 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:13:36,598 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(215) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:13:36,598 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:36,598 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:13:36,598 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2783 —Å–µ–∫—É–Ω–¥ (0.8 —á–∞—Å–æ–≤)
2025-11-16 23:13:36,599 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:13:40,216 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 6090751674, text: '–≤ —Ç–µ—Å—Ç–æ–≤–æ–º'
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:14:03,212 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:14:03,212 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:14:03,212 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:14:03,212 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:14:03,213 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:14:03,216 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:14:04,603 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:14:04,924 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:14:05,123 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:14:05,123 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:14:05,123 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:14:05,195 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:14:05,196 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:14:05,196 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:14:05,223 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:14:05,224 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:14:05,224 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:14:05,225 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:14:05,225 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:14:05,225 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:14:05,245 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,245 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,250 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,251 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:14:05,251 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,253 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:14:05,255 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:14:05,255 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,257 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:14:05,257 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:14:05,257 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,258 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,260 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,261 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,262 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,263 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:14:05,263 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,264 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,267 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,269 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,272 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,274 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:14:05,275 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:14:05,275 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:14:05,275 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,275 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:14:05,276 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,277 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:14:05,277 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:14:05,277 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:14:05,277 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:14:05,282 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:14:05,282 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(215) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:14:05,282 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:14:05,284 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:14:05,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:14:05,284 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2755 —Å–µ–∫—É–Ω–¥ (0.8 —á–∞—Å–æ–≤)
2025-11-16 23:14:05,284 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:18:05,294 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '?'
2025-11-16 23:18:41,153 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∫—Ä–∞—Å–∞–≤—á–∏–∫'
2025-11-16 23:18:42,855 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Å–ª–æ–º–∞–ª'
2025-11-16 23:18:49,421 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '—è?'
2025-11-16 23:18:53,560 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '—è –Ω–µ —Ç—Ä–æ–≥–∞–ª –∞–π–¥–∏'
2025-11-16 23:18:58,596 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: 'None'
2025-11-16 23:19:17,896 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–º–æ–∂–µ—Ç –±—ã—Ç—å —è'
2025-11-16 23:19:21,510 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–ø–æ–ª–æ–º–∞–ª'
2025-11-16 23:19:31,458 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–≤–∏–¥–∞–ª'
2025-11-16 23:19:42,314 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–∞ –µ—Å–ª–∏ –≤ –ª—Å –±–æ—Ç—É –ø–∏—Å–∞—Ç—å —Ç–æ –Ω–æ—Ä–º –≤—Å–µ'
2025-11-16 23:20:01,487 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–ø–æ—Ö–æ–¥—É –≤ –∞–¥–º–∏–Ω–∫–µ'
2025-11-16 23:20:03,144 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: 'None'
2025-11-16 23:20:06,431 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '—Ç—ã –ø–æ–ª–æ–º–∞–ª —á—Ç—Ç–æ—Ç–æ'
2025-11-16 23:20:10,936 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–Ω–æ—Ä–º–∞–ª—å–Ω–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç'
2025-11-16 23:20:20,555 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '—Ç—ã —à—É—Ç–∏—à—å?'
2025-11-16 23:20:29,367 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–µ—Å–ª–∏ –ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–æ /id –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–π'
2025-11-16 23:20:33,239 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–¥–∞–∂–µ —Ç–µ–±–µ'
2025-11-16 23:20:44,071 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–∞ —Ç–∞–∫, —Ä–∞–±–æ—Ç–∞–µ—Ç'
2025-11-16 23:20:53,224 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: 'vot'
2025-11-16 23:21:03,285 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ç–∞–∞–∫'
2025-11-16 23:21:12,250 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–ø–æ–≥–æ–¥–∏'
2025-11-16 23:21:26,160 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Å–ª—É—á–∞–µ–º –Ω–µ —Ç—ã —ç—Ç–æ —Å–¥–µ–ª–∞–ª –∫–æ–≥–¥–∞ –∞–¥–º–∏–Ω–∫—É –º–æ—é —á–∏–Ω–∏–ª'
2025-11-16 23:21:33,297 - [INFO] - handlers.admin.admin - (admin.py).add_admin(370) - Admin 1054684037 added new admin 7326913977
2025-11-16 23:23:13,940 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:23:13,940 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:23:13,940 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:23:13,940 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:23:13,940 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:23:13,940 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:23:13,941 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:23:13,941 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:23:13,941 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:23:13,941 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:23:13,941 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:23:13,946 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:23:15,707 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:23:16,034 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:23:16,239 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:23:16,239 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:23:16,240 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:23:16,415 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:23:16,416 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:23:16,416 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:23:16,441 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:23:16,442 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:23:16,442 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:23:16,443 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:23:16,443 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:23:16,443 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:23:16,465 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,465 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,470 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,470 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:23:16,470 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,473 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:23:16,474 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:23:16,474 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,476 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:23:16,476 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:23:16,476 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,477 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,479 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,481 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,483 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,484 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:23:16,484 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,487 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,489 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,490 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,493 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,495 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:23:16,495 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:23:16,495 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:23:16,495 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,496 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:23:16,498 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,499 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:23:16,499 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:23:16,499 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:23:16,499 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:23:16,504 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:23:16,504 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:23:16,504 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:23:16,504 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:23:16,504 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:23:16,505 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:23:16,505 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:23:16,505 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:23:16,505 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:23:16,505 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2203 —Å–µ–∫—É–Ω–¥ (0.6 —á–∞—Å–æ–≤)
2025-11-16 23:23:16,505 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:23:23,494 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=TypeError('MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given
2025-11-16 23:23:26,805 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-14' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=TypeError('MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given')>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: MuteBanManager._is_user_admin() takes from 2 to 3 positional arguments but 4 were given
2025-11-16 23:24:39,704 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:24:39,704 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:24:39,704 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:24:39,704 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:24:39,704 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:24:39,704 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:24:39,705 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:24:39,705 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:24:39,705 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:24:39,705 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:24:39,705 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:24:39,709 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:24:41,278 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:24:41,592 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:24:41,794 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:24:41,794 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:24:41,794 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:24:41,872 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:24:41,874 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:24:41,874 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:24:41,902 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:24:41,904 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:24:41,926 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,926 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,931 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,932 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:24:41,932 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,936 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:24:41,937 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:24:41,937 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,938 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:24:41,938 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:24:41,938 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,939 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,941 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,942 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,944 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,945 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:24:41,945 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,946 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,948 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,951 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,954 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,956 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:24:41,956 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:24:41,956 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:24:41,956 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,957 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:24:41,958 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,959 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:24:41,959 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:24:41,959 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:24:41,959 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:24:41,964 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:24:41,964 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:24:41,964 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:24:41,966 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:24:41,966 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:24:41,966 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:24:41,966 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:24:41,966 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:24:41,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:24:41,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2118 —Å–µ–∫—É–Ω–¥ (0.6 —á–∞—Å–æ–≤)
2025-11-16 23:24:41,966 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:24:58,640 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—è –∞–π–¥–∏ –≤–∞—â–µ –Ω–µ —Ç—Ä–æ–≥–∞–ª'
2025-11-16 23:25:11,868 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–æ–Ω –∂–µ —Ä–∞–±–æ—á–∏–π –±—ã–ª'
2025-11-16 23:25:16,803 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Å–º—ã—Å–ª –µ–≥–æ —Ç—Ä–æ–≥–∞—Ç—å'
2025-11-16 23:26:19,311 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:26:19,312 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:26:19,312 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:26:19,312 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:19,312 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:19,312 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:26:19,313 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:26:19,313 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:26:19,313 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:19,313 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:26:19,313 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:26:19,318 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:26:20,921 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:26:21,247 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:26:21,452 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:26:21,453 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:26:21,453 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:21,528 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:26:21,529 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:26:21,529 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:21,554 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:26:21,555 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:26:21,556 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:26:21,556 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:26:21,556 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:26:21,556 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:26:21,576 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,577 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,583 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,583 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:26:21,583 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,586 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:26:21,588 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:26:21,588 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,589 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:26:21,589 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:26:21,589 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,590 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,592 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,593 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,596 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,597 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:26:21,597 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,599 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,600 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,602 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,605 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,606 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:26:21,606 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:26:21,606 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:26:21,606 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,607 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:26:21,608 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,609 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:26:21,610 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:21,610 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:26:21,610 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:21,613 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:26:21,614 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:26:21,614 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:21,614 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:21,614 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2018 —Å–µ–∫—É–Ω–¥ (0.6 —á–∞—Å–æ–≤)
2025-11-16 23:26:21,615 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:26:30,534 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:26:30,535 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:26:30,535 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:26:30,535 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:26:30,535 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:26:30,537 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:26:30,540 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:26:32,010 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:26:32,324 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:26:32,528 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:26:32,529 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:26:32,529 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:32,606 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:26:32,607 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:26:32,607 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:32,633 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:26:32,634 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:26:32,634 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:26:32,635 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:26:32,635 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:26:32,635 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:26:32,654 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,654 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,659 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,660 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:26:32,660 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,664 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:26:32,664 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:26:32,665 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,666 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:26:32,666 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:26:32,666 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,667 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,669 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,670 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,672 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,672 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:26:32,673 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,674 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,676 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,678 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,680 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,682 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:26:32,682 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:26:32,682 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:26:32,682 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,684 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:26:32,684 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,685 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:26:32,685 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:26:32,686 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:26:32,686 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:26:32,691 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:26:32,691 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:26:32,691 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:26:32,692 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:32,692 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:26:32,692 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:26:32,692 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:26:32,692 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:32,692 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:26:32,692 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 2007 —Å–µ–∫—É–Ω–¥ (0.6 —á–∞—Å–æ–≤)
2025-11-16 23:26:32,692 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:27:07,911 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ç–∞–∞–∞–∫'
2025-11-16 23:27:26,826 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:27:26,826 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:27:26,826 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:27:26,827 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:27:26,827 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:27:26,827 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:27:26,828 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:27:26,831 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:27:28,354 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:27:28,671 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:27:28,875 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:27:28,875 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:27:28,875 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:27:28,955 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:27:28,957 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:27:28,957 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:27:28,983 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:27:28,984 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:27:28,984 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:27:28,984 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:27:28,984 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:27:28,985 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:27:29,006 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,006 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,011 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,012 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:27:29,012 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,016 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:27:29,017 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:27:29,018 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,019 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:27:29,019 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:27:29,019 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,020 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,023 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,025 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,027 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,028 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:27:29,028 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,031 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,032 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,036 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,038 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,041 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:27:29,041 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:27:29,041 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:27:29,041 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,044 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:27:29,044 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,047 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:27:29,047 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:27:29,047 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:27:29,047 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:27:29,051 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:27:29,051 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:27:29,051 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:27:29,052 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:27:29,052 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:27:29,052 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:27:29,052 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:27:29,052 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:27:29,052 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:27:29,052 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1951 —Å–µ–∫—É–Ω–¥ (0.5 —á–∞—Å–æ–≤)
2025-11-16 23:27:29,052 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:27:50,202 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=NameError("name 'chat_id' is not defined")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 41, in on_pre_process_message
    if await self.mute_ban_manager._is_user_admin(user_id, message.chat.id if message.chat else None,
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\RouletteBotTelegram\handlers\admin\mute_ban.py", line 45, in _is_user_admin
    if chat_id:
       ^^^^^^^
NameError: name 'chat_id' is not defined
2025-11-16 23:27:55,266 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—á–∞—Ç –∞–π–¥–∏ –∏ —é–∑–µ—Ä –∞–π–¥–∏ –º–æ–∂–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å, –Ω–æ –ø–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—å /admin'
2025-11-16 23:28:36,847 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:28:36,847 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:28:36,847 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:28:36,848 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:28:36,848 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:28:36,848 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:28:36,849 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:28:36,851 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:28:38,559 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:28:38,872 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:28:39,074 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:28:39,074 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:28:39,074 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:28:39,163 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:28:39,164 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:28:39,164 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:28:39,194 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:28:39,195 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:28:39,217 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,218 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,222 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,222 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:28:39,222 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,226 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:28:39,227 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:28:39,228 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,230 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:28:39,230 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:28:39,230 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,231 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,232 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,235 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,237 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,237 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:28:39,237 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,240 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,241 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,244 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,246 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,249 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:28:39,249 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:28:39,249 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:28:39,249 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,251 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:28:39,251 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,253 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:28:39,253 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:28:39,253 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:28:39,253 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:28:39,257 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:28:39,258 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:28:39,258 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:28:39,259 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:28:39,259 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:28:39,259 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:28:39,259 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:28:39,259 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:28:39,259 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:28:39,259 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 1881 —Å–µ–∫—É–Ω–¥ (0.5 —á–∞—Å–æ–≤)
2025-11-16 23:28:39,259 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:29:24,735 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ç—ã —Ä—É–ª–µ—Ç–∫—É —É–∂–µ —Ä–∞–∑–±–∏–ª –≤–Ω—É—Ç—Ä–∏ –ø–∞–ø–∫–∏ roulette?'
2025-11-16 23:29:29,955 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–¥–∞'
2025-11-16 23:29:33,941 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–≤—Å–µ —Ä–æ–±–∏—Ç'
2025-11-16 23:29:45,991 - [INFO] - handlers.roulette_logs - (roulette_logs.py).add_game_log(37) - –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ —Ä—É–ª–µ—Ç–∫–∏ –¥–ª—è —á–∞—Ç–∞ -1003110392320: 9üî¥
2025-11-16 23:29:46,740 - [INFO] - main - (validators.py).update_users_batch(75) - ‚úÖ –ü–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2025-11-16 23:30:24,417 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–∫–∞–∫ —Ç–∏–ø–∞ –∑–∞–±–∞–Ω–∏—Ç—å —Å–µ–±—è'
2025-11-16 23:30:36,746 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '@AKMBV7 —è —ç—Ç–æ—Ç –∞–∫–∫ —Ä–∞–∑–∂–∞–ª–æ–≤–∞–ª'
2025-11-16 23:30:40,996 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–ø—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏'
2025-11-16 23:30:50,700 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—â–∞ –º—É—Ç –¥–∞–º'
2025-11-16 23:31:00,663 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '?'
2025-11-16 23:31:57,456 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–æ–∫'
2025-11-16 23:32:28,257 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '?'
2025-11-16 23:32:37,179 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-156' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:32:44,933 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-164' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:32:47,779 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 8325704610, text: '—É–±–µ—Ä–∏'
2025-11-16 23:33:38,916 - [INFO] - handlers.admin.admin - (admin.py).remove_admin(418) - Admin 1054684037 removed admin 7326913977
2025-11-16 23:34:35,260 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).mute_user(96) - üîá 7326913977 –∑–∞–º—É—á–µ–Ω –≤ -1003110392320 –Ω–∞ 6 –º–∏–Ω –∞–¥–º–∏–Ω–æ–º 6090751674
2025-11-16 23:34:38,358 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '?'
2025-11-16 23:35:26,336 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '—Ä–∞–∑–º—É—Ç'
2025-11-16 23:35:41,115 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—è –Ω–µ –¥–æ–±–∞–≤–∏–ª —ç—Ç–æ'
2025-11-16 23:35:45,096 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–±–∞–ª–∏–Ω'
2025-11-16 23:40:39,734 - [INFO] - handlers.admin.mute_ban - (mute_ban.py)._unmute_scheduler(189) - üîà –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–º—É—Ç 7326913977 –≤ -1003110392320
2025-11-16 23:41:02,942 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-233' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:41:09,260 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-237' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:41:16,138 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-241' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:41:22,011 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-245' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:46:47,109 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-272' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:47:13,950 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-279' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:47:16,114 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-283' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:47:25,737 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-287' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:47:53,603 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-294' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:48:02,966 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '–ª–∞–¥–Ω–æ'
2025-11-16 23:48:52,531 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:48:52,531 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:48:52,531 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:48:52,532 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:48:52,532 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:48:52,532 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:48:52,533 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:48:52,542 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:48:54,384 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:48:54,698 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:48:54,934 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:48:54,934 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:48:54,934 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:48:55,008 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:48:55,010 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:48:55,010 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:48:55,040 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:48:55,042 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:48:55,072 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,072 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,077 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,077 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:48:55,077 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,082 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:48:55,084 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:48:55,084 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,086 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:48:55,087 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:48:55,087 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,088 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,092 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,093 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,095 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,096 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:48:55,096 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,098 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,100 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,104 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,108 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,110 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:48:55,110 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:48:55,110 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:48:55,110 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,112 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:48:55,112 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,115 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:48:55,115 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:48:55,115 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:48:55,115 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:48:55,120 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:48:55,120 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:48:55,120 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:48:55,122 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:48:55,122 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:48:55,122 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(218) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:48:55,122 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:48:55,122 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:48:55,122 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:48:55,122 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 665 —Å–µ–∫—É–Ω–¥ (0.2 —á–∞—Å–æ–≤)
2025-11-16 23:48:55,122 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:49:30,534 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '!ron

!roff'
2025-11-16 23:53:21,655 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-32' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:53:26,594 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:53:26,595 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:53:26,595 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:53:26,595 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:53:26,595 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:53:26,595 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-16 23:53:26,600 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:53:30,916 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:53:31,238 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:53:31,456 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:53:31,456 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:53:31,456 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:53:31,536 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:53:31,537 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:53:31,537 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:53:31,560 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:53:31,561 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:53:31,580 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,580 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,585 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,586 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:53:31,586 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,590 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:53:31,591 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:53:31,591 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,592 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:53:31,592 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:53:31,592 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,593 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,596 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,597 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,598 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,599 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:53:31,599 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,600 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,601 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,605 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,607 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,608 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:53:31,610 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:53:31,610 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:53:31,610 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,611 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:53:31,611 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,612 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:53:31,612 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:53:31,612 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:53:31,612 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:53:31,616 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:53:31,616 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:53:31,616 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:53:31,617 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:53:31,617 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:53:31,617 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(218) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:53:31,617 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:53:31,617 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:53:31,617 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:53:31,617 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 388 —Å–µ–∫—É–Ω–¥ (0.1 —á–∞—Å–æ–≤)
2025-11-16 23:53:31,617 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:54:03,025 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-16 23:54:03,027 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:54:03,027 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-16 23:54:03,027 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-16 23:54:03,027 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-16 23:54:03,028 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-16 23:54:04,684 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-16 23:54:05,034 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-16 23:54:05,245 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-16 23:54:05,245 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-16 23:54:05,245 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:54:05,320 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-16 23:54:05,322 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-16 23:54:05,322 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:54:05,349 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-16 23:54:05,350 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-16 23:54:05,351 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:54:05,351 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-16 23:54:05,351 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:54:05,351 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-16 23:54:05,370 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,370 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,375 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,376 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:54:05,376 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,379 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-16 23:54:05,381 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-16 23:54:05,381 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,382 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-16 23:54:05,382 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-16 23:54:05,382 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,383 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,385 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,386 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,387 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,388 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-16 23:54:05,388 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,390 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,392 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,395 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,399 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,401 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-16 23:54:05,401 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-16 23:54:05,401 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-16 23:54:05,402 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,403 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-16 23:54:05,403 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,405 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-16 23:54:05,405 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-16 23:54:05,405 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-16 23:54:05,405 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-16 23:54:05,409 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-16 23:54:05,410 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-16 23:54:05,410 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-16 23:54:05,410 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:54:05,411 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-16 23:54:05,411 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(207) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-16 23:54:05,411 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-16 23:54:05,411 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:54:05,411 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-16 23:54:05,411 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 355 —Å–µ–∫—É–Ω–¥ (0.1 —á–∞—Å–æ–≤)
2025-11-16 23:54:05,411 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-16 23:56:37,235 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-24' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-16 23:57:02,848 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 7326913977, text: '–Ω–µ'
2025-11-16 23:57:24,969 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-37' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:00:00,102 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).run_cleanup(122) - ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ 2025-11-17 00:00:00
2025-11-17 00:00:00,102 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).run_cleanup(123) - üìä –£–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤: 0
2025-11-17 00:00:00,102 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).run_cleanup(124) - üìä –£–¥–∞–ª–µ–Ω–æ –∏—Å—Ç–µ–∫—à–∏—Ö –ø–æ–∫—É–ø–æ–∫: 0
2025-11-17 00:00:00,102 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 86400 —Å–µ–∫—É–Ω–¥ (24.0 —á–∞—Å–æ–≤)
2025-11-17 00:06:23,816 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 00:06:23,817 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 00:06:23,817 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 00:06:23,817 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:06:23,817 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 00:06:23,818 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 00:06:23,822 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 00:06:25,034 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 00:06:25,357 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 00:06:25,566 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 00:06:25,566 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 00:06:25,566 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:06:25,635 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 00:06:25,638 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 00:06:25,638 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:06:25,657 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 00:06:25,658 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 00:06:25,674 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,674 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,677 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,678 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 00:06:25,678 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,681 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 00:06:25,682 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 00:06:25,682 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,683 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 00:06:25,683 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 00:06:25,683 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,684 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,685 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,687 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,688 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,689 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 00:06:25,689 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,690 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,691 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,693 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,694 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,697 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 00:06:25,697 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 00:06:25,697 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 00:06:25,697 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,698 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 00:06:25,698 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,700 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 00:06:25,700 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:06:25,700 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 00:06:25,700 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:06:25,704 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 00:06:25,704 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 00:06:25,704 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 00:06:25,705 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:06:25,705 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 00:06:25,705 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(204) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 00:06:25,705 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 00:06:25,705 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:06:25,705 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:06:25,705 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 86014 —Å–µ–∫—É–Ω–¥ (23.9 —á–∞—Å–æ–≤)
2025-11-17 00:06:25,705 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 00:06:34,904 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:06:39,325 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-15' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:06:53,290 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-27' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:03,622 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—á–µ –∑–∞'
2025-11-17 00:07:06,020 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-34' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:06,543 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–¥–∏—á—å'
2025-11-17 00:07:09,487 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-41' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:24,350 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-45' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:34,937 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-49' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:41,203 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–≤ –ø—É—à–µ'
2025-11-17 00:07:45,480 - [ERROR] - asyncio - (base_events.py).default_exception_handler(1757) - Task exception was never retrieved
future: <Task finished name='Task-59' coro=<Dispatcher._process_polling_updates() done, defined at C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py:407> exception=AttributeError("'MuteBanManager' object has no attribute 'check_bot_ban'")>
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\handler.py", line 101, in notify
    await self.dispatcher.middleware.trigger(f"pre_process_{self.middleware_key}", args + (data,))
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 53, in trigger
    await app.trigger(action, args)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\middlewares.py", line 106, in trigger
    await handler(*args)
  File "C:\RouletteBotTelegram\middlewares\bot_ban_middleware.py", line 46, in on_pre_process_message
    if await self.mute_ban_manager.check_bot_ban(user_id):
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MuteBanManager' object has no attribute 'check_bot_ban'
2025-11-17 00:07:48,965 - [INFO] - __main__ - (main.py).signal_handler(307) - üìû –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª 2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
2025-11-17 00:07:48,966 - [INFO] - __main__ - (main.py).on_shutdown(258) - üõë –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞...
2025-11-17 00:07:48,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(147) - üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 00:07:48,966 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).stop(156) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:07:48,966 - [INFO] - __main__ - (main.py).on_shutdown(266) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:07:48,966 - [INFO] - __main__ - (main.py).on_shutdown(275) - ‚úÖ –ó–∞–¥–∞—á–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2025-11-17 00:07:48,967 - [INFO] - __main__ - (main.py).on_shutdown(283) - ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∑–∞–∫—Ä—ã—Ç—ã
2025-11-17 00:07:48,967 - [INFO] - __main__ - (main.py).on_shutdown(291) - ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –∑–∞–∫—Ä—ã—Ç–æ
2025-11-17 00:07:48,967 - [INFO] - __main__ - (main.py).on_shutdown(298) - ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2025-11-17 00:07:48,967 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).stop_polling(433) - Stop polling...
2025-11-17 00:07:48,967 - [ERROR] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(390) - Cause exception while getting updates.
Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 1488, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client.py", line 748, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\client_reqrep.py", line 532, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiohttp\streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 381, in start_polling
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\bot.py", line 110, in get_updates
    result = await self.request(api.Methods.GET_UPDATES, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\bekak\PycharmProjects\Bek_32-2_hw-master\.venv\Lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ServerDisconnectedError: Server disconnected
2025-11-17 00:07:48,971 - [WARNING] - aiogram - (executor.py).start_polling(329) - Goodbye!
2025-11-17 00:11:10,506 - [INFO] - __main__ - (main.py).main(315) - üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
2025-11-17 00:11:10,830 - [INFO] - aiogram - (executor.py)._welcome(362) - Bot: —Ç–µ—Å—Ç–∞–π—Å [@testaicebot]
2025-11-17 00:11:11,035 - [WARNING] - aiogram - (executor.py)._skip_updates(358) - Updates were skipped successfully.
2025-11-17 00:11:11,035 - [INFO] - __main__ - (main.py).on_startup(224) - üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
2025-11-17 00:11:11,035 - [INFO] - __main__ - (main.py).on_startup(227) - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:11:11,114 - [INFO] - __main__ - (main.py).setup_database(88) - ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
2025-11-17 00:11:11,117 - [INFO] - __main__ - (main.py).setup_database(95) - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
2025-11-17 00:11:11,117 - [INFO] - __main__ - (main.py).on_startup(231) - üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:11:11,147 - [INFO] - __main__ - (main.py).cleanup_old_limits(120) - ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –ª–∏–º–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).setup_middleware_first(136) - üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ middleware...
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).setup_middleware_first(140) - ‚úÖ AutoRegisterMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).setup_middleware_first(148) - ‚úÖ ThrottlingMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è 16 –∫–æ–º–∞–Ω–¥
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).on_startup(239) - üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 00:11:11,148 - [INFO] - __main__ - (main.py).register_all_handlers(159) - üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...
2025-11-17 00:11:11,170 - [INFO] - root - (start.py).register_start_handler(749) - ‚úÖ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,170 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ start –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,175 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ admin –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,176 - [INFO] - root - (shop.py).register_shop_handlers(483) - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –ì–õ–û–ë–ê–õ–¨–ù–û–ô –∑–∞—â–∏—Ç–æ–π)
2025-11-17 00:11:11,176 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ shop –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,180 - [INFO] - handlers.donate - (donate.py)._init_bonus_table(128) - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ user_bonuses —Å–æ–∑–¥–∞–Ω–∞/–ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
2025-11-17 00:11:11,181 - [INFO] - root - (donate.py).register_donate_handlers(955) - ‚úÖ –î–æ–Ω–∞—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
2025-11-17 00:11:11,181 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ donate –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,182 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_main_menu
2025-11-17 00:11:11,182 - [INFO] - handlers.callback - (callback.py)._register_handler(94) - Successfully registered callback handler: handle_admin_users_list
2025-11-17 00:11:11,182 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,184 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ reference –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,186 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ transfer –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,187 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ history_service –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,189 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ record –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,190 - [INFO] - venv - (gifts.py).register_gift_handlers(983) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∞—Ä–∫–æ–≤
2025-11-17 00:11:11,190 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ gifts –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,192 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ marriage_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,195 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ roulette –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,198 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ police –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,201 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ thief –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,203 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(863) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç –∏—â–∏' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (–¢–û–ß–ù–´–ï –∫–æ–º–∞–Ω–¥—ã)
2025-11-17 00:11:11,203 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(864) - üìù –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–µ–Ω –¥–ª—è 19 –∫–æ–º–∞–Ω–¥
2025-11-17 00:11:11,203 - [INFO] - handlers.bot_search_handler - (bot_search_handler.py).register_bot_search_handlers(865) - üõ°Ô∏è ID —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞—â–∏—Ç—ã: [4]
2025-11-17 00:11:11,203 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_search_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,204 - [INFO] - handlers.chat_handlers - (chat_handlers.py).register_chat_handlers(126) - ‚úÖ Chat handlers registered
2025-11-17 00:11:11,204 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ chat_handlers –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,206 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).register_bot_stop_handlers(482) - ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ '–±–æ—Ç —Å—Ç–æ–ø' –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –∑–∞—â–∏—Ç–æ–π)
2025-11-17 00:11:11,206 - [INFO] - __main__ - (main.py).register_all_handlers(176) - ‚úÖ bot_stop_handler –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
2025-11-17 00:11:11,206 - [INFO] - __main__ - (main.py).register_all_handlers(183) - ‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã. –í—Å–µ–≥–æ: 17
2025-11-17 00:11:11,206 - [INFO] - venv - (gifts.py).ensure_gifts_on_startup(949) - üéÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
2025-11-17 00:11:11,211 - [INFO] - venv - (gifts.py).ensure_gifts_exist(246) - ‚úÖ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ
2025-11-17 00:11:11,211 - [INFO] - __main__ - (main.py).setup_bot_ban_middleware(192) - ‚úÖ BotBanMiddleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
2025-11-17 00:11:11,211 - [INFO] - __main__ - (main.py).on_startup(250) - ‚è∞ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –æ—á–∏—Å—Ç–∫–∏...
2025-11-17 00:11:11,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(206) - ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –ë–î –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:11:11,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(211) - ‚úÖ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—É—Ç–æ–≤/–±–∞–Ω–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã
2025-11-17 00:11:11,212 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).restore_mutes_after_restart(235) - ‚è≠Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—É—Ç–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
2025-11-17 00:11:11,212 - [INFO] - __main__ - (main.py).start_cleanup_tasks(215) - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º—É—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
2025-11-17 00:11:11,212 - [INFO] - __main__ - (main.py).on_startup(253) - ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:11:11,212 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(38) - üîÑ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω
2025-11-17 00:11:11,212 - [INFO] - handlers.cleanup_scheduler - (cleanup_scheduler.py).start_daily_cleanup(54) - ‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 85729 —Å–µ–∫—É–Ω–¥ (23.8 —á–∞—Å–æ–≤)
2025-11-17 00:11:11,213 - [INFO] - aiogram.dispatcher.dispatcher - (dispatcher.py).start_polling(358) - Start polling.
2025-11-17 00:11:36,155 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(315) - ‚è© –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–æ–º–∞–Ω–¥—É: –º–Ω–µ –∑–∞–≤—Ç—Ä–∞ —É–∂–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤–µ—Å—å –±–∞–ª–∞–Ω—Å
2025-11-17 00:11:43,389 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—è —Å–∫–∏–Ω—ã –ø—Ä–æ–¥–∞–ª –≤ —Ç–æ—Ä–≥–æ–≤–æ–π –ø–ª–æ—â–∞–¥–∫–µ'
2025-11-17 00:12:04,604 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 7326913977 -> 1054684037, text: '–∫–ª–∞—Å—Å–Ω–æ'
2025-11-17 00:12:07,354 - [INFO] - handlers.admin.mute_ban - (mute_ban.py).ban_user(158) - üö´ 7326913977 –∑–∞–±–∞–Ω–µ–Ω –≤ -1003110392320 –∞–¥–º–∏–Ω–æ–º 6090751674
2025-11-17 00:12:23,343 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '—Ä–∞–±–æ—Ç–∞–µ—Ç'
2025-11-17 00:13:42,232 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: 'https://t.me/+SNT16La_jzUzY2Ri'
2025-11-17 00:13:50,824 - [INFO] - handlers.bot_stop_handler - (bot_stop_handler.py).check_reply_restrictions(345) - ‚úÖ ALLOWED REPLY: 6090751674 -> 1054684037, text: '–Ω–µ –¥–æ–±–∞–≤–ª—è–ª, —ç—Ç–æ —Ñ–∏–≥–Ω—è'
